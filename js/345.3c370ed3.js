(self["webpackChunkdapp_robonomics_network"]=self["webpackChunkdapp_robonomics_network"]||[]).push([[345],{17827:function(n,t,e){"use strict";e.d(t,{A:function(){return a}});var r=e(56768);function o(n,t){const e=(0,r.g2)("robo-loader"),o=(0,r.g2)("robo-text");return(0,r.uX)(),(0,r.Wv)(o,{weight:"normal-italic",align:"center"},{default:(0,r.k6)((()=>[(0,r.bF)(e,{size:"1.5"}),t[0]||(t[0]=(0,r.eW)(" Loading "))])),_:1})}var u=e(71241);const i={},c=(0,u.A)(i,[["render",o]]);var a=c},24275:function(n,t,e){"use strict";e.d(t,{A:function(){return s}});var r=e(56768);const o={class:"textsmall"};function u(n,t){return(0,r.uX)(),(0,r.CE)("div",o," This information holds no legal validity and is intended solely for personal use. ")}var i=e(71241);const c={},a=(0,i.A)(c,[["render",u]]);var s=a},29376:function(n,t,e){"use strict";e.d(t,{c:function(){return i}});e(44114),e(18111),e(61701);var r=e(74300),o=e(90144),u=e(56768);const i=(n,t=n=>n)=>{const{isReady:e,getInstance:i}=(0,r.x)(),c=(0,o.KR)(!1),a=(0,o.KR)([]);let s;const f=async n=>{const e=i(),r=await e.datalog.read(n);return r.map((n=>({moment:n[0].toNumber(),data:t(n[1].toHuman()),raw:n[1].toHuman()})))},l=async n=>{const e=i();s=await e.datalog.on({},(e=>{for(const r of e)r.data[0].toHuman()===n&&a.value.push({moment:r.data[1].toNumber(),data:t(r.data[2].toHuman()),raw:r.data[2].toHuman()})}))};return(0,u.hi)((()=>{s&&s()})),(0,u.wB)([n,e],(async([n,t])=>{t&&(a.value=await f(n),await l(n),c.value=!0)}),{immediate:!0}),{log:a,isLaoded:c}}},39345:function(n,t,e){"use strict";e.r(t),e.d(t,{default:function(){return B}});var r=e(56768);function o(n,t,e,o,u,i){const c=(0,r.g2)("robo-section"),a=(0,r.g2)("datalog-loader"),s=(0,r.g2)("robo-status"),f=(0,r.g2)("energy-chart"),l=(0,r.g2)("notice-text"),d=(0,r.g2)("robo-layout-section");return(0,r.uX)(),(0,r.Wv)(d,null,{default:(0,r.k6)((()=>[(0,r.bF)(c,{offset:"x2",width:"middle",style:{"text-align":"center"}},{default:(0,r.k6)((()=>t[0]||(t[0]=[(0,r.Lk)("h2",null,"Energy Monitor",-1)]))),_:1}),(0,r.bF)(c,{offset:"x2",width:"middle"},{default:(0,r.k6)((()=>[o.isFind?((0,r.uX)(),(0,r.Wv)(a,{key:0})):null===o.energyAddress?((0,r.uX)(),(0,r.Wv)(s,{key:1,type:"warning"},{default:(0,r.k6)((()=>t[1]||(t[1]=[(0,r.eW)(" Not found ")]))),_:1})):void 0!==o.energyAddress?((0,r.uX)(),(0,r.Wv)(f,{key:2,address:o.energyAddress},null,8,["address"])):(0,r.Q3)("",!0)])),_:1}),(0,r.bF)(c,{offset:"x2",width:"middle"},{default:(0,r.k6)((()=>[(0,r.bF)(l)])),_:1})])),_:1})}var u=e(17827),i=e(24275),c=e(76384);const a={key:0};function s(n,t,e,o,u,i){const c=(0,r.g2)("datalog-chart"),s=(0,r.g2)("sensor-info"),f=(0,r.g2)("last-data"),l=(0,r.g2)("datalog-loader");return o.isLaoded?((0,r.uX)(),(0,r.CE)("div",a,[(0,r.bF)(c,{log:o.log},null,8,["log"]),(0,r.bF)(s,{sensor_id:e.address,class:"block"},null,8,["sensor_id"]),(0,r.bF)(f,{data:o.log[o.log.length-1],class:"block"},null,8,["data"])])):((0,r.uX)(),(0,r.Wv)(l,{key:1}))}var f=e(90144),l=e(76543),d=e(29376);function p(n,t,e,o,u,i){const c=(0,r.g2)("chart");return(0,r.uX)(),(0,r.Wv)(c,{options:o.chartOptions,ref:"chart"},null,8,["options"])}e(44114),e(18111),e(7588);var v=e(75129),h={label:"Active power",unit:"W"},m={label:"Current",unit:"A"},y={label:"Energy today",unit:"kWh"},g={label:"Energy total",unit:"kWh"},b={label:"Voltage",unit:"V"},w={label:"Energy yesterday",unit:"kWh"},S={daily:y,voltage:b,active_power:h,yesterday_sum:w,current:m,total:g},k={components:{Chart:v.Chart},props:["log"],setup(n){const t=n=>{const t={};for(const e of n)for(const n of e.data)if(t[n.fullKey])t[n.fullKey].data.push([e.moment,parseFloat(n.value)]);else{let r=n.fullKey;S[n.fullKey]&&S[n.fullKey].label&&(r=S[n.fullKey].label),t[n.fullKey]={name:r,data:[[e.moment,parseFloat(n.value)]],tooltip:{valueSuffix:` ${S[n.fullKey].unit??""}`}}}return Object.values(t)},e=t(n.log);let o;return(0,r.sV)((()=>{o=(0,r.nI)().refs.chart.chart})),(0,r.wB)(n.log,(n=>{if(!o)return;const e=t(n);e.length>0&&(e.forEach((n=>{const t=o.series.findIndex((t=>t.name===n.name));t>=0?o.series[t].setData(n.data,!1):o.addSeries(n)})),o.redraw())})),{chartOptions:{lang:{locale:"en"},chart:{spacing:[50,20,20,20]},title:{text:""},time:{timezone:Intl.DateTimeFormat().resolvedOptions().timeZone},xAxis:{title:!1,type:"datetime",labels:{overflow:"justify",format:"{value: %H:%M }"}},yAxis:{title:!1},tooltip:{valueDecimals:2},series:e}}}},C=e(71241);const A=(0,C.A)(k,[["render",p]]);var R=A,T=e(24232);const x={class:"infoline flexline"},E={class:"infoline-info"};function _(n,t,e,o,u,i){return(0,r.uX)(),(0,r.CE)("section",null,[(0,r.Lk)("h3",null,"Last data "+(0,T.v_)(new Date(e.data.moment).toLocaleString()),1),(0,r.Lk)("div",x,[(0,r.Lk)("div",E,[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(o.measurements,((n,t)=>((0,r.uX)(),(0,r.CE)("div",{class:"datalog-item",key:t},[(0,r.Lk)("b",null,(0,T.v_)(n.label)+":",1),(0,r.eW)(" "+(0,T.v_)(n.value),1)])))),128))])])])}function F(n){return S[n]||{label:n}}var O={props:["data"],setup(n){const t=[];for(const e of n.data.data){const n=F(e.fullKey);t.push({...n,value:`${n.calculate?n.calculate(e.value):e.value} ${n.unit??""}`})}return{measurements:t}}};const I=(0,C.A)(O,[["render",_],["__scopeId","data-v-0cba4dcc"]]);var D=I;const K=n=>{try{const t=[],e=JSON.parse(n);for(const n in e){const r=e[n];t.push({key:n,fullKey:n,value:r})}return t}catch(t){console.log(t)}};var L={props:["address"],components:{DatalogLoader:u.A,DatalogChart:R,SensorInfo:l.A,LastData:D},setup(n){const t=(0,d.c)((0,f.QW)(n).address,K),e=(0,f.KR)(!1),r=()=>{e.value=!e.value};return{log:t.log,isLaoded:t.isLaoded,isShowRaw:e,showRaw:r}}};const M=(0,C.A)(L,[["render",s],["__scopeId","data-v-2c9d01bc"]]);var W=M,P={props:["address"],components:{EnergyChart:W,DatalogLoader:u.A,NoticeText:i.A},setup(n){const{address:t,isFind:e,runFind:o}=(0,c.Z)("0x000000000000000000000000000000000000000000000000616c747275697374");return(0,r.wB)((()=>n.address),(n=>{n?t.value=n:o()}),{immediate:!0}),{energyAddress:t,isFind:e}}};const j=(0,C.A)(P,[["render",o]]);var B=j},71175:function(n,t,e){"use strict";e.r(t),e.d(t,{BaseTransition:function(){return r.pR},BaseTransitionPropsValidators:function(){return r.QP},Comment:function(){return r.Mw},DeprecationTypes:function(){return r.aT},EffectScope:function(){return r.yC},ErrorCodes:function(){return r.tG},ErrorTypeStrings:function(){return r.ZQ},Fragment:function(){return r.FK},KeepAlive:function(){return r.PR},ReactiveEffect:function(){return r.X2},Static:function(){return r.jC},Suspense:function(){return r.tY},Teleport:function(){return r.Im},Text:function(){return r.EY},TrackOpTypes:function(){return r.Ul},Transition:function(){return r.eB},TransitionGroup:function(){return r.F},TriggerOpTypes:function(){return r.PP},VueElement:function(){return r.Vy},assertNumber:function(){return r.U4},callWithAsyncErrorHandling:function(){return r.qL},callWithErrorHandling:function(){return r.gh},camelize:function(){return r.PT},capitalize:function(){return r.ZH},cloneVNode:function(){return r.E3},compatUtils:function(){return r.Y5},compile:function(){return o},computed:function(){return r.EW},createApp:function(){return r.Ef},createBlock:function(){return r.Wv},createCommentVNode:function(){return r.Q3},createElementBlock:function(){return r.CE},createElementVNode:function(){return r.Lk},createHydrationRenderer:function(){return r.ci},createPropsRestProxy:function(){return r.bn},createRenderer:function(){return r.K9},createSSRApp:function(){return r.m1},createSlots:function(){return r.eX},createStaticVNode:function(){return r.Fv},createTextVNode:function(){return r.eW},createVNode:function(){return r.bF},customRef:function(){return r.rY},defineAsyncComponent:function(){return r.$V},defineComponent:function(){return r.pM},defineCustomElement:function(){return r.Xq},defineEmits:function(){return r.qP},defineExpose:function(){return r.wk},defineModel:function(){return r.NP},defineOptions:function(){return r.GM},defineProps:function(){return r.Yj},defineSSRCustomElement:function(){return r.Po},defineSlots:function(){return r.Lu},devtools:function(){return r.lt},effect:function(){return r.QZ},effectScope:function(){return r.uY},getCurrentInstance:function(){return r.nI},getCurrentScope:function(){return r.o5},getCurrentWatcher:function(){return r.Yv},getTransitionRawChildren:function(){return r.Df},guardReactiveProps:function(){return r.Ng},h:function(){return r.h},handleError:function(){return r.H4},hasInjectionContext:function(){return r.PS},hydrate:function(){return r.Qv},hydrateOnIdle:function(){return r.rU},hydrateOnInteraction:function(){return r.Tq},hydrateOnMediaQuery:function(){return r.dA},hydrateOnVisible:function(){return r.Pn},initCustomFormatter:function(){return r.y$},initDirectivesForSSR:function(){return r.Ib},inject:function(){return r.WQ},isMemoSame:function(){return r.Bs},isProxy:function(){return r.ju},isReactive:function(){return r.g8},isReadonly:function(){return r.Tm},isRef:function(){return r.i9},isRuntimeOnly:function(){return r.wX},isShallow:function(){return r.fE},isVNode:function(){return r.vv},markRaw:function(){return r.IG},mergeDefaults:function(){return r.HF},mergeModels:function(){return r.zz},mergeProps:function(){return r.v6},nextTick:function(){return r.dY},normalizeClass:function(){return r.C4},normalizeProps:function(){return r._B},normalizeStyle:function(){return r.Tr},onActivated:function(){return r.n},onBeforeMount:function(){return r.KC},onBeforeUnmount:function(){return r.xo},onBeforeUpdate:function(){return r.Ic},onDeactivated:function(){return r.Y4},onErrorCaptured:function(){return r.qG},onMounted:function(){return r.sV},onRenderTracked:function(){return r.qR},onRenderTriggered:function(){return r.bj},onScopeDispose:function(){return r.jr},onServerPrefetch:function(){return r.SS},onUnmounted:function(){return r.hi},onUpdated:function(){return r.$u},onWatcherCleanup:function(){return r.ch},openBlock:function(){return r.uX},popScopeId:function(){return r.jt},provide:function(){return r.Gt},proxyRefs:function(){return r.Pr},pushScopeId:function(){return r.Qi},queuePostFlushCb:function(){return r.Dl},reactive:function(){return r.Kh},readonly:function(){return r.tB},ref:function(){return r.KR},registerRuntimeCompiler:function(){return r.tC},render:function(){return r.XX},renderList:function(){return r.pI},renderSlot:function(){return r.RG},resolveComponent:function(){return r.g2},resolveDirective:function(){return r.gN},resolveDynamicComponent:function(){return r.$y},resolveFilter:function(){return r.LJ},resolveTransitionHooks:function(){return r.OW},setBlockTracking:function(){return r.Vq},setDevtoolsHook:function(){return r.iD},setTransitionHooks:function(){return r.MZ},shallowReactive:function(){return r.Gc},shallowReadonly:function(){return r.nD},shallowRef:function(){return r.IJ},ssrContextKey:function(){return r.Fw},ssrUtils:function(){return r.Gw},stop:function(){return r.ds},toDisplayString:function(){return r.v_},toHandlerKey:function(){return r.Kf},toHandlers:function(){return r.Tb},toRaw:function(){return r.ux},toRef:function(){return r.lW},toRefs:function(){return r.QW},toValue:function(){return r.BA},transformVNodeArgs:function(){return r.gW},triggerRef:function(){return r.mu},unref:function(){return r.R1},useAttrs:function(){return r.OA},useCssModule:function(){return r.D},useCssVars:function(){return r.$9},useHost:function(){return r.KT},useId:function(){return r.Bi},useModel:function(){return r.fn},useSSRContext:function(){return r.LM},useShadowRoot:function(){return r._U},useSlots:function(){return r.Ht},useTemplateRef:function(){return r.rk},useTransitionState:function(){return r.Gy},vModelCheckbox:function(){return r.lH},vModelDynamic:function(){return r.hp},vModelRadio:function(){return r.XL},vModelSelect:function(){return r.u1},vModelText:function(){return r.Jo},vShow:function(){return r.aG},version:function(){return r.rE},warn:function(){return r.R8},watch:function(){return r.wB},watchEffect:function(){return r.nT},watchPostEffect:function(){return r.p9},watchSyncEffect:function(){return r.U_},withAsyncContext:function(){return r.E},withCtx:function(){return r.k6},withDefaults:function(){return r.rO},withDirectives:function(){return r.bo},withKeys:function(){return r.jR},withMemo:function(){return r.bU},withModifiers:function(){return r.D$},withScopeId:function(){return r.YY}});var r=e(45130);
/**
* vue v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/const o=()=>{0}},75129:function(n,t,e){e(18111),e(7588),function(t,r){n.exports=r(e(90362),e(71175))}(self,((n,t)=>(()=>{"use strict";var e={879:t=>{t.exports=n},744:n=>{n.exports=t}},r={};function o(n){var t=r[n];if(void 0!==t)return t.exports;var u=r[n]={exports:{}};return e[n](u,u.exports,o),u.exports}o.n=n=>{var t=n&&n.__esModule?()=>n.default:()=>n;return o.d(t,{a:t}),t},o.d=(n,t)=>{for(var e in t)o.o(t,e)&&!o.o(n,e)&&Object.defineProperty(n,e,{enumerable:!0,get:t[e]})},o.o=(n,t)=>Object.prototype.hasOwnProperty.call(n,t),o.r=n=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(n,"__esModule",{value:!0})};var u={};return(()=>{o.r(u),o.d(u,{Chart:()=>s,default:()=>f});var n=o(879),t=o.n(n),e=function n(e,r){var o=t().isArray(e)?[]:{};function u(e,u){!t().isObject(e,!r)||t().isClass(e)||t().isDOMElement(e)?o[u]=e:o[u]=n(e,r)}return t().isArray(e)?e.forEach((function(n,t){return u(n,t)})):t().objectEach(e,u),o},r=o(744);function i(n){return function(n){if(Array.isArray(n))return c(n)}(n)||function(n){if("undefined"!=typeof Symbol&&null!=n[Symbol.iterator]||null!=n["@@iterator"])return Array.from(n)}(n)||function(n,t){if(n){if("string"==typeof n)return c(n,t);var e=Object.prototype.toString.call(n).slice(8,-1);return"Object"===e&&n.constructor&&(e=n.constructor.name),"Map"===e||"Set"===e?Array.from(n):"Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e)?c(n,t):void 0}}(n)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function c(n,t){(null==t||t>n.length)&&(t=n.length);for(var e=0,r=new Array(t);e<t;e++)r[e]=n[e];return r}const a=function(n){var t=this;return{render:function(){return(0,r.h)("div",{ref:"chart"})},beforeUnmount:function(){var n;return null==t||null===(n=t.chart)||void 0===n?void 0:n.destroy()},props:{constructorType:{type:String,default:"chart"},options:{type:Object,required:!0},callback:Function,updateArgs:{type:Array,default:function(){return[!0,!0]}},highcharts:{type:Object},deepCopyOnUpdate:{type:Boolean,default:!0}},watch:{options:{handler:function(n){var t;(t=this.chart).update.apply(t,[e(n,this.deepCopyOnUpdate)].concat(i(this.updateArgs)))},deep:!0}},mounted:function(){var t=this.highcharts||n;t[this.constructorType]?this.options?this.chart=t[this.constructorType](this.$refs.chart,e(this.options,!0),this.callback?this.callback:null):console.error('The "options" parameter was not passed.'):console.error("'".concat(this.constructorType,"' constructor-type is incorrect. Sometimes this error is caused by the fact, that the corresponding module wasn't imported."))}}};var s=a(t());function f(n){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};n.component(e.tagName||"highcharts",a(e.highcharts||t()))}})(),u})()))},76384:function(n,t,e){"use strict";e.d(t,{Z:function(){return s}});var r=e(15372),o=e(74300),u=e(77373),i=e(90144),c=e(56768);const a=async(n,t,e)=>{for(const r of t){const t=await n.twin.getTwin(r);for(const n in t)if(n===e)return t[n]}return null};function s(n,t=!1){const{isReady:e,getInstance:s}=(0,o.x)(),{account:f}=(0,r.F)(),l=(0,i.KR)(),d=(0,i.KR)(!1),p=async t=>{const e=s(),r=(0,u.tv)(t);let o=0;if(!1!==r.total){const t=await(0,u.Lm)(e);if(t===r.total)return void(l.value=await a(e,r.twins,n));o=r.total}const i=await(0,u.QJ)(e,t,o);l.value=await a(e,i,n)},v=()=>{(0,c.wB)([f,e],(async([n,t])=>{n&&t&&(d.value=!0,await p(n),d.value=!1)}),{immediate:!0})};return t&&v(),{address:l,isFind:d,runFind:v}}},76543:function(n,t,e){"use strict";e.d(t,{A:function(){return l}});var r=e(56768),o=e(24232);const u={class:"infoline flexline"},i={class:"infoline-info"};function c(n,t,e,c,a,s){return(0,r.uX)(),(0,r.CE)("section",null,[t[1]||(t[1]=(0,r.Lk)("h3",null,"Advanced information",-1)),(0,r.Lk)("div",u,[t[0]||(t[0]=(0,r.Lk)("div",{class:"infoline-title"},"Sensor id:",-1)),(0,r.Lk)("div",i,(0,o.v_)(e.sensor_id),1)])])}var a={props:["sensor_id"]},s=e(71241);const f=(0,s.A)(a,[["render",c],["__scopeId","data-v-f1562ad2"]]);var l=f}}]);
//# sourceMappingURL=345.3c370ed3.js.map