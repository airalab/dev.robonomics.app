{"version":3,"file":"js/app.92c32184.js","mappings":"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","sources":["webpack://dapp-robonomics.network/./src/App.vue","webpack://dapp-robonomics.network/./src/components/Header.vue","webpack://dapp-robonomics.network/./src/utils/tools.js","webpack://dapp-robonomics.network/./src/components/Header.vue?801b","webpack://dapp-robonomics.network/./src/components/Footer.vue","webpack://dapp-robonomics.network/./src/components/Footer.vue?7cca","webpack://dapp-robonomics.network/./src/components/layouts/Main.vue","webpack://dapp-robonomics.network/./src/components/layouts/Main.vue?a356","webpack://dapp-robonomics.network/./src/App.vue?7ccd","webpack://dapp-robonomics.network/./src/plugins/ipfs.js","webpack://dapp-robonomics.network/./src/utils/encryptor.js","webpack://dapp-robonomics.network/./src/plugins/robonomicsAccountManager.js","webpack://dapp-robonomics.network/./src/plugins/robonomics.js","webpack://dapp-robonomics.network/./src/plugins/web3.js","webpack://dapp-robonomics.network/./src/views/hardware/Altruist.vue","webpack://dapp-robonomics.network/./src/views/hardware/Hikikomori.vue","webpack://dapp-robonomics.network/./src/views/hardware/Riscv.vue","webpack://dapp-robonomics.network/./src/components/web3/NftInfo.vue","webpack://dapp-robonomics.network/./src/components/web3/NftToken.vue","webpack://dapp-robonomics.network/./src/components/web3/BtnSend.vue","webpack://dapp-robonomics.network/./src/components/web3/BtnSend.vue?fc9a","webpack://dapp-robonomics.network/./src/components/web3/FreeMinimum.vue","webpack://dapp-robonomics.network/./src/components/web3/apiNftOracle.js","webpack://dapp-robonomics.network/./src/components/web3/FreeMinimum.vue?6b81","webpack://dapp-robonomics.network/./src/components/web3/NftToken.vue?6082","webpack://dapp-robonomics.network/./src/components/web3/NftInfo.vue?0a2c","webpack://dapp-robonomics.network/./src/views/hardware/Season-pass-2.vue","webpack://dapp-robonomics.network/./src/views/hardware/Season-pass-2.vue?7d65","webpack://dapp-robonomics.network/./src/eth_chains.js","webpack://dapp-robonomics.network/./src/views/hardware/Season-pass.vue","webpack://dapp-robonomics.network/./src/views/hardware/Season-pass.vue?e5cd","webpack://dapp-robonomics.network/./src/views/Home.vue","webpack://dapp-robonomics.network/./src/views/Home.vue?9051","webpack://dapp-robonomics.network/./src/views/humanoid/RobonomicsLaunch.vue","webpack://dapp-robonomics.network/./src/views/humanoid/config.js","webpack://dapp-robonomics.network/./src/views/humanoid/RobonomicsLaunch.vue?4a2b","webpack://dapp-robonomics.network/./src/views/humanoid/RobonomicsApp.vue","webpack://dapp-robonomics.network/./src/views/humanoid/RobonomicsApp.vue?7643","webpack://dapp-robonomics.network/./src/views/PathNotFound.vue","webpack://dapp-robonomics.network/./src/views/PathNotFound.vue?dbdf","webpack://dapp-robonomics.network/./src/views/RwsActivate.vue","webpack://dapp-robonomics.network/./src/hooks/useBalance.js","webpack://dapp-robonomics.network/./src/views/RwsActivate.vue?116c","webpack://dapp-robonomics.network/./src/views/RwsSetup.vue","webpack://dapp-robonomics.network/./src/views/RwsSetup.vue?d6aa","webpack://dapp-robonomics.network/./src/views/RwsSetupNew.vue","webpack://dapp-robonomics.network/./src/views/RwsSetupNew.vue?1f64","webpack://dapp-robonomics.network/./src/views/hardware/Energy-monitor.vue","webpack://dapp-robonomics.network/./src/views/hardware/Energy-monitor.vue?2905","webpack://dapp-robonomics.network/./src/views/saveSetup/Page.vue","webpack://dapp-robonomics.network/./src/views/saveSetup/Account.vue","webpack://dapp-robonomics.network/./src/views/saveSetup/Account.vue?7f78","webpack://dapp-robonomics.network/./src/views/saveSetup/Crust.vue","webpack://dapp-robonomics.network/./src/utils/crust.js","webpack://dapp-robonomics.network/./src/views/saveSetup/Crust.vue?49e2","webpack://dapp-robonomics.network/./src/views/saveSetup/DTwin.vue","webpack://dapp-robonomics.network/./src/views/saveSetup/DTwin.vue?84e3","webpack://dapp-robonomics.network/./src/views/saveSetup/DTwinSave.vue","webpack://dapp-robonomics.network/./src/views/saveSetup/DTwinSave.vue?5fcb","webpack://dapp-robonomics.network/./src/views/saveSetup/Encrypt.vue","webpack://dapp-robonomics.network/./src/views/saveSetup/Encrypt.vue?f5bc","webpack://dapp-robonomics.network/./src/views/saveSetup/IpfsFile.vue","webpack://dapp-robonomics.network/./src/views/saveSetup/IpfsFile.vue?12b7","webpack://dapp-robonomics.network/./src/views/saveSetup/IpfsUpload.vue","webpack://dapp-robonomics.network/./src/views/saveSetup/IpfsUpload.vue?9485","webpack://dapp-robonomics.network/./src/views/saveSetup/Page.vue?b747","webpack://dapp-robonomics.network/./src/views/telemetry/Telemetry.vue","webpack://dapp-robonomics.network/./src/views/telemetry/Launch.vue","webpack://dapp-robonomics.network/./src/hooks/useIpfs.js","webpack://dapp-robonomics.network/./src/utils/telemetry.js","webpack://dapp-robonomics.network/./src/views/telemetry/common.js","webpack://dapp-robonomics.network/./src/views/telemetry/launch.js","webpack://dapp-robonomics.network/./src/views/telemetry/Launch.vue?a7de","webpack://dapp-robonomics.network/./src/views/telemetry/Libp2p.vue","webpack://dapp-robonomics.network/./src/utils/libp2p/ha.js","webpack://dapp-robonomics.network/./src/utils/libp2p/libp2p.js","webpack://dapp-robonomics.network/./src/views/telemetry/libp2p.js","webpack://dapp-robonomics.network/./src/views/telemetry/Libp2p.vue?d944","webpack://dapp-robonomics.network/./src/views/telemetry/Telemetry.vue?f25e","webpack://dapp-robonomics.network/./src/router.js","webpack://dapp-robonomics.network/./src/store.js","webpack://dapp-robonomics.network/./src/utils/filters.js","webpack://dapp-robonomics.network/./src/main.js","webpack://dapp-robonomics.network/./src/views/dtwin/CreateTwin.vue","webpack://dapp-robonomics.network/./src/views/dtwin/CreateTwin.vue?2dea","webpack://dapp-robonomics.network/./src/hooks/useSubscription.js","webpack://dapp-robonomics.network/./src/hooks/useSend.js","webpack://dapp-robonomics.network/./src/hooks/useAccount.js","webpack://dapp-robonomics.network/./src/hooks/useDevices.js","webpack://dapp-robonomics.network/./src/views/dtwin/SelectTwin.vue","webpack://dapp-robonomics.network/./src/views/dtwin/SelectTwin.vue?f204","webpack://dapp-robonomics.network/./src/hooks/useRobonomics.js","webpack://dapp-robonomics.network/./src/views/dtwin/dtwin.js","webpack://dapp-robonomics.network/./src/config.js","webpack://dapp-robonomics.network/webpack/bootstrap","webpack://dapp-robonomics.network/webpack/runtime/amd options","webpack://dapp-robonomics.network/webpack/runtime/chunk loaded","webpack://dapp-robonomics.network/webpack/runtime/compat get default export","webpack://dapp-robonomics.network/webpack/runtime/create fake namespace object","webpack://dapp-robonomics.network/webpack/runtime/define property getters","webpack://dapp-robonomics.network/webpack/runtime/ensure chunk","webpack://dapp-robonomics.network/webpack/runtime/get javascript chunk filename","webpack://dapp-robonomics.network/webpack/runtime/get mini-css chunk filename","webpack://dapp-robonomics.network/webpack/runtime/global","webpack://dapp-robonomics.network/webpack/runtime/hasOwnProperty shorthand","webpack://dapp-robonomics.network/webpack/runtime/load script","webpack://dapp-robonomics.network/webpack/runtime/make namespace object","webpack://dapp-robonomics.network/webpack/runtime/node module decorator","webpack://dapp-robonomics.network/webpack/runtime/publicPath","webpack://dapp-robonomics.network/webpack/runtime/css loading","webpack://dapp-robonomics.network/webpack/runtime/jsonp chunk loading","webpack://dapp-robonomics.network/webpack/startup"],"sourcesContent":["<template>\n  <main-layout :pagetitle=\"title\">\n    <router-view />\n  </main-layout>\n</template>\n\n<script>\nimport MainLayout from \"@/components/layouts/Main.vue\";\nimport { inject, ref, watch } from \"vue\";\nimport { useRoute, useRouter } from \"vue-router\";\nimport { useStore } from \"vuex\";\n\nexport default {\n  name: \"App\",\n  components: {\n    MainLayout\n  },\n  setup() {\n    const RobonomicsProvider = inject('RobonomicsProvider');\n    // const IpfsProvider = inject(\"IpfsProvider\");\n    const store = useStore();\n    const router = useRouter();\n    const route = useRoute();\n\n    const title = ref();\n\n    // store.commit(\"rws/setKey\", process.env.VUE_APP_ROBONOMICS_UI_KEY);\n    // отказываемся от этой переменной совсем\n    // store.dispatch(\"rws/init\");\n\n    store.commit(\"rws/setLink\", {\n      link: \"activate\",\n      value: router.resolve({ name: \"rwsActivate\" }).path\n    });\n\n    store.commit(\"rws/setLink\", {\n      link: \"setup\",\n      value: router.resolve({ name: \"rwsSetup\" }).path\n    });\n\n    store.commit(\"rws/setLink\", {\n      link: \"setupnew\",\n      value: router.resolve({ name: \"rwsSetupNew\" }).path\n    });\n\n    store.commit(\"rws/setLink\", {\n      link: \"devices\",\n      value: router.resolve({ name: \"telemetry\" }).path\n    });\n    \n    watch(route, () => {\n      title.value = route?.meta?.title;\n      const resulttitle = title.value\n        ? `${title.value} / Robonomics Dapp`\n        : \"Robonomics Dapp\";\n      document.title = resulttitle;\n      if(document\n      .querySelector('meta[property=\"og:title\"]'))\n      document\n        .querySelector('meta[property=\"og:title\"]')\n        .setAttribute(\"content\", resulttitle);\n    });\n\n    watch(\n      [route, RobonomicsProvider.isReady],\n      ([route, isReady]) => {\n        if (route.name !== \"telemetry\" && isReady) {\n          store.commit(\"polkadot/setConnectionType\", \"parachain\");\n          store.commit(\"polkadot/setConnectionConnected\", true);\n        }\n      },\n      { immediate: true }\n    );\n\n    return {\n      title\n    };\n  }\n};\n</script>\n","<template>\n  <robo-layout-header\n    logoIcon=\"images/icon_white.svg\"\n    :title=\"title\"\n    v-if=\"renderComponent\"\n  >\n\n  <template #nav>\n\n    <robo-section>\n      <nav class=\"nav-rws\">\n        <ul>\n          <li><router-link :to=\"$store.state.robonomicsUIvue.rws.links.activate\" exact>Buy/renew a subscription</router-link></li>\n          <li><router-link :to=\"$store.state.robonomicsUIvue.rws.links.setupnew\" exact>New setup</router-link></li>\n          <li>\n            <router-link :to=\"$store.state.robonomicsUIvue.rws.links.setup\" exact>Your setup<template v-if=\"$store.state.robonomicsUIvue.rws.list.length > 1\">s</template></router-link>\n          </li>\n          <li>\n            <router-link :to=\"$store.state.robonomicsUIvue.rws.links.devices\" exact>Devices & Control</router-link>\n          </li>\n        </ul>\n      </nav>\n    </robo-section>\n\n    <!-- <robo-section>\n      <nav class=\"nav-devices\">\n        <ul>\n          <li>\n            <router-link to=\"/hardware/altruist\" exact>\n              <img src=\"images/hardware/altruist.webp\" />\n              <span>Air Quality Sensor “ALTRUIST“</span>\n            </router-link>\n          </li>\n          <li>\n            <router-link to=\"/hardware/riscv\" exact>\n              <img src=\"images/hardware/risc-v.webp\" />\n              <span>Home server with Web3 cloud</span>\n            </router-link>\n          </li>\n          <li>\n            <router-link to=\"/hardware/hikikomori\" exact>\n              <img src=\"images/hardware/hikikomori.webp\" />\n              <span>Smart Tamagotchi “Hikikomori“</span>\n            </router-link>\n          </li>\n          <li>\n            <router-link to=\"/hardware/energy-monitor\" exact>\n              <img src=\"images/hardware/e-monitor.webp\" />\n              <span>Energy monitor with USB-C</span>\n            </router-link>\n          </li>\n        </ul>\n      </nav>\n    </robo-section> -->\n\n  </template>\n  </robo-layout-header>\n</template>\n\n<script>\nimport { fromUnit, round } from \"@/utils/tools\";\nimport { toRaw } from \"vue\";\n\nexport default {\n  props: {\n    title: {\n      type: String,\n      default: \"Robonomics Dapp\"\n    }\n  },\n  inject: [\"RobonomicsProvider\"],\n  data() {\n    return {\n      renderComponent: true,\n    };\n  },\n  computed: {\n    robonomics: function () {\n      return toRaw(this.RobonomicsProvider.instance.value);\n    }\n  },\n  watch: {\n    \"$store.state.robonomicsUIvue.polkadot.extensionObj\": function (value) {\n      if (\n        value.signer &&\n        value.signer.signRaw &&\n        this.$store.state.robonomicsUIvue.polkadot.address\n      ) {\n        this.handlerAccount(this.$store.state.robonomicsUIvue.polkadot.address);\n      }\n    },\n    \"$store.state.robonomicsUIvue.polkadot.address\": {\n      handler: function (value) {\n        if (\n          value &&\n          this.$store.state.robonomicsUIvue.polkadot.extensionObj.signer &&\n          this.$store.state.robonomicsUIvue.polkadot.extensionObj.signer.signRaw\n        ) {\n          this.handlerAccount(value);\n        }\n      },\n      immediate: true\n    },\n    \"RobonomicsProvider.isReady.value\": {\n      handler: function (newValue, oldValue) {\n        if (newValue && !oldValue) {\n          this.handlerAccount(\n            this.$store.state.robonomicsUIvue.polkadot.address\n          );\n        }\n      },\n      immediate: true\n    },\n    $route: async function () {\n      this.renderComponent = false;\n      await this.$nextTick();\n      this.renderComponent = true;\n    }\n  },\n  methods: {\n    async handlerAccount(address) {\n      try{\n\n        if (!this.RobonomicsProvider.isReady.value) {\n          return;\n        }\n        if (this.unsubscribeBalance) {\n          this.unsubscribeBalance();\n        }\n        if (!this.$store.state.robonomicsUIvue.polkadot.accounts) {\n          return;\n        }\n        const account = this.$store.state.robonomicsUIvue.polkadot.accounts.find(\n          (item) => item.address === address\n        );\n        if (!account) {\n          return;\n        }\n        if (this.$route.name !== \"telemetry\") {\n          await this.robonomics.accountManager.setSender(address, {\n            type: account.type,\n            extension: this.$store.state.robonomicsUIvue.polkadot.extensionObj\n          });\n        }\n        this.unsubscribeBalance = await this.robonomics.account.getBalance(\n          address,\n          (r) => {\n            const transferable = r.free.sub(r.frozen);\n            this.$store.commit(\n              \"polkadot/setBalanceXRT\",\n              round(\n                fromUnit(\n                  transferable,\n                  this.robonomics.api.registry.chainDecimals[0]\n                ),\n                4\n              )\n            );\n          }\n        );\n      } catch (e) { console.error(e); }\n    }\n  }\n};\n</script>\n\n<style scoped>\n  .nav-rws ul {\n    text-align: left;\n    grid-template-columns: repeat(4, 1fr);\n  }\n\n  .nav-rws a {\n    display: block;\n    margin-bottom: 0.5rem;\n    font-weight: bold;\n    white-space: nowrap;\n    text-transform: uppercase;\n  }\n\n  .nav-devices {\n    margin-top: calc(var(--robo-space) * 2);\n  }\n\n  .nav-devices li {\n    padding: var(--robo-space) 0;\n    border-top: 1px solid var(--robo-color-dark);\n  }\n\n  .nav-devices a {\n    display: grid;\n    grid-template-columns: 100px auto;\n    align-items: center;\n    gap: var(--robo-space);\n    font-weight: bold;\n    text-transform: uppercase;\n  }\n\n  .nav-devices img {\n    max-width: 100%;\n    object-fit: contain;\n  }\n\n  .nav-devices li:not(:nth-child(2)) img {\n    max-height: 92px;\n  }\n\n  .nav-devices li:nth-child(2) img {\n    min-height: 100px;\n  }\n\n\n  @media screen and (width < 950px) {\n    .nav-rws ul {\n      grid-template-columns: repeat(2, 1fr);\n    }\n  }\n\n  @media screen and (width < 560px) {\n    .nav-devices a {\n      grid-template-columns: 50px auto;\n    }\n  }\n</style>\n","import Decimal from \"decimal.js-light\";\n\nDecimal.set({\n  toExpNeg: -31,\n  toExpPos: 31\n});\n\nexport function toDecimal(v) {\n  return new Decimal(v.toString());\n}\n\nexport function round(v, place) {\n  return toDecimal(v).todp(place);\n}\n\nexport function fromUnit(v, decimals = 0, dp) {\n  return toDecimal(v)\n    .div(new Decimal(10).pow(decimals.toString()))\n    .todp(dp)\n    .toString();\n}\n\nexport function toUnit(v, decimals = 0) {\n  return toDecimal(v).mul(new Decimal(10).pow(decimals.toString())).toString();\n}\n\nexport function showVersion() {\n  console.log(\n    \"Build version:\",\n    process.env.VUE_APP_GIT_BRANCH,\n    process.env.VUE_APP_GIT_TAG,\n    process.env.VUE_APP_GIT_SHA\n  );\n}\n","import { render } from \"./Header.vue?vue&type=template&id=d48ff4f2&scoped=true\"\nimport script from \"./Header.vue?vue&type=script&lang=js\"\nexport * from \"./Header.vue?vue&type=script&lang=js\"\n\nimport \"./Header.vue?vue&type=style&index=0&id=d48ff4f2&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-d48ff4f2\"]])\n\nexport default __exports__","<template>\n    <footer>\n        <div class=\"footer-section\">\n            <nav>\n                <ul v-for=\"item in navigation\" :key=\"item.title\" :data-label=\"item.title\">\n                    <li v-for=\"link in item.links\" :key=\"link.title\">\n                        <a :href=\"link.link\" target=\"_blank\">{{link.title}}</a>\n                    </li>\n                </ul>\n            </nav>\n            <robo-text size=\"small\" weight=\"bold\" align=\"center\">\n                <robo-grid id=\"footer-label\" type=\"flex\" gap=\"x05\" valign=\"center\">\n                    <span>Secured by</span>\n                    <img width=\"100\" alt=\"Polkadot\" src=\"/images/polkadot-new-dot-logo-horizontal.svg\" />\n                </robo-grid>\n            </robo-text>\n        </div>\n        <robo-text v-if=\"repoversion\" size=\"small\" weight=\"bold\" align=\"center\" class=\"footer-section\">\n            Latest release:\n            <a :href=\"repoversion.html_url\" target=\"_blank\">{{ repoversion.tag_name }} {{ repoversion.name }}</a>\n        </robo-text>\n    </footer>\n</template>\n\n<script setup>\n\nimport { ref, onMounted, computed } from \"vue\";\nimport { useStore } from \"vuex\";\nconst store = useStore();\n\nconst network = computed(() => {\n    return store.state.robonomicsUIvue?.polkadot?.connection?.network || \"polkadot\";\n});\n\nconst navigation = [\n{\n    title: \"Services\",\n    links: [\n    {\n        title: \"Sensors map\",\n        link: \"https://sensors.social\",\n    }\n    ]\n},\n\n{\n    title: \"Tokenomics\",\n    links: [\n    {\n        title: \"About XRT\",\n        link: \"https://robonomics.network/xrt/\",\n    },\n    {\n        title: \"Uniswap\",\n        link: \"https://app.uniswap.org/#/swap?inputCurrency=0x7de91b204c1c737bcee6f000aaa6569cf7061cb7&outputCurrency=0xc02aaa39b223fe8d0a0e5c4f27ead9083c756cc2\",\n    },\n    {\n        title: \"Basilisk\",\n        link: \"https://app.basilisk.cloud/pools-and-farms\",\n    }\n    ]\n},\n\n{\n    title: \"Tools\",\n    links: [\n    {\n        title: \"Substrate Portal\",\n        link: \"https://polkadot.js.org/apps/?rpc=wss%3A%2F%2F\" + network.value + \".rpc.robonomics.network%2F#/explorer\",\n    },\n    {\n        title: \"Subscan\",\n        link: \"https://robonomics.subscan.io/\",\n    },\n    {\n        title: \"Polkassembly\",\n        link: \"https://robonomics.polkassembly.io/\",\n    }\n    ]\n},\n\n{\n    title: \"Help\",\n    links: [\n    {\n        title: \"GitHub\",\n        link: \"https://github.com/airalab/robonomics.app\",\n    },\n    {\n        title: \"Wiki\",\n        link: \"https://wiki.robonomics.network/\",\n    },\n    {\n        title: \"Academy\",\n        link: \"https://robonomics.academy/\",\n    },\n    {\n        title: \"Contacts\",\n        link: \"https://robonomics.network/contact/\",\n    },\n    {\n        title: \"Issues\",\n        link: \"https://github.com/airalab/robonomics.app/issues\",\n    },\n    ]\n}\n];\n\nconst repoversion = ref(null);\n\nonMounted(async () => {\n    try {\n      const response = await fetch('https://api.github.com/repos/airalab/robonomics.app/releases/latest');\n      const data = await response.json();\n      repoversion.value = data;\n    } catch (error) {\n      repoversion.value = 'Ошибка загрузки';\n      console.error('Ошибка получения версии:', error);\n    }\n});\n\n</script>\n\n<style scoped>\n    .footer-section {\n        border-top: 1px dotted var(--robo-color-text);\n        padding-top: var(--robo-layout-padding);\n        margin-top: var(--robo-layout-padding);\n    }\n    \n    footer {\n        margin-top: calc(var(--robo-space) * 5);\n        padding: var(--robo-layout-padding);\n    }\n\n    footer nav {\n        display: flex;\n        gap: calc(var(--robo-layout-padding) * 2);\n        justify-content: center;\n    }\n\n    footer nav ul:before {\n        content: attr(data-label);\n        display: block;\n        font-weight: bold;\n        margin-bottom: var(--robo-space);\n    }\n\n    @media screen and (width < 700px) {\n        footer nav {\n            font-size: 80%;\n            gap: var(--robo-layout-padding);\n        }\n    }\n\n    @media screen and (width < 500px) {\n        footer nav {\n            flex-direction: column;\n        }\n    }\n\n    #footer-label {\n        display: inline-flex;\n        width: fit-content;\n        padding-top: var(--robo-space);\n        padding-bottom: var(--robo-space);\n    }\n</style>","import script from \"./Footer.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./Footer.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./Footer.vue?vue&type=style&index=0&id=21672fb0&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-21672fb0\"]])\n\nexport default __exports__","<template>\n  <robo-layout>\n    <dapp-header :title=\"props.pagetitle\" />\n    <slot />\n    <dapp-footer />\n  </robo-layout>\n</template>\n\n<script setup>\n\nimport DappHeader from '@/components/Header';\nimport DappFooter from '@/components/Footer';\nimport { useSubscription } from \"@/hooks/useSubscription\";\nimport { defineProps, watch } from 'vue';\nimport { useStore } from \"vuex\";\n\nconst props = defineProps({\n  pagetitle: {\n    type: String\n  }\n});\n\nconst store = useStore();\nconst subscription = useSubscription();\n\n watch(\n  () => store.state.robonomicsUIvue.rws.active,\n  (v) => {\n    subscription.owner.value = v;\n  },\n  { immediate: true }\n);\n\nwatch(\n  [subscription.owner, subscription.validUntil],\n  () => {\n    store.commit(\"rws/setExpiredate\", subscription.validUntil);\n  },\n  { immediate: true }\n);\n\nwatch(\n  subscription.devices,\n  (devices) => {\n    store.commit(\"rws/setUsers\", devices);\n  },\n  { immediate: true }\n);\n</script>\n","import script from \"./Main.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./Main.vue?vue&type=script&setup=true&lang=js\"\n\nconst __exports__ = script;\n\nexport default __exports__","import { render } from \"./App.vue?vue&type=template&id=b52aa2fc\"\nimport script from \"./App.vue?vue&type=script&lang=js\"\nexport * from \"./App.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { create } from \"ipfs-http-client\";\nimport { ref } from \"vue\";\n\nexport class IpfsApiClient {\n  constructor(endpoint) {\n    this.endpoint = endpoint;\n    this.authHeader = null;\n    this.robonomics = null;\n    this._create();\n  }\n  _create() {\n    this.client = create({\n      ...this._options()\n    });\n  }\n  _options() {\n    const options = {\n      url: this.endpoint,\n      headers: {}\n    };\n    if (this.authHeader) {\n      options.headers.authorization = `Basic ${this.authHeader}`;\n    }\n    if (this.robonomics) {\n      options.headers.robonomics = this.robonomics;\n    }\n    return options;\n  }\n  isAuth() {\n    return !!this.authHeader && !!this.robonomics;\n  }\n  auth(owner, address, signature) {\n    const authHeaderRaw = `sub-${address}:${signature}`;\n    this.authHeader = Buffer.from(authHeaderRaw).toString(\"base64\");\n    this.robonomics = owner;\n    this._create();\n  }\n  authClear() {\n    this.authHeader = null;\n    this.robonomics = null;\n    this._create();\n  }\n  async ls(cid) {\n    const files = [];\n    for await (const file of this.client.ls(cid)) {\n      if (file.type === \"file\") {\n        files.push(file);\n      }\n    }\n    return files;\n  }\n  async cat(cid) {\n    const cat = async (cid) => {\n      const decoder = new TextDecoder();\n      let content = \"\";\n      for await (const chunk of this.client.cat(cid)) {\n        content += decoder.decode(chunk, {\n          stream: true\n        });\n      }\n      return content;\n    };\n    return await cat(cid);\n  }\n  async add(data) {\n    return await this.client.add(data);\n  }\n}\n\nexport default {\n  install: (app, params) => {\n    const instance = ref();\n    app.provide(\"IpfsProvider\", {\n      instance\n    });\n    instance.value = new IpfsApiClient(params.api.gateway);\n  }\n};\n","import { u8aConcat, u8aToU8a } from \"@polkadot/util\";\nimport {\n  ed25519PairFromSeed,\n  encodeAddress,\n  mnemonicToMiniSecret,\n  randomAsU8a\n} from \"@polkadot/util-crypto\";\nimport ed2curve from \"ed2curve\";\nimport nacl from \"tweetnacl\";\n\nfunction naclOpen(sealed, nonce, senderBoxPublic, receiverBoxSecret) {\n  return (\n    nacl.box.open(sealed, nonce, senderBoxPublic, receiverBoxSecret) || null\n  );\n}\nfunction naclSeal(\n  message,\n  senderBoxSecret,\n  receiverBoxPublic,\n  nonce = randomAsU8a(24)\n) {\n  return {\n    nonce,\n    sealed: nacl.box(message, nonce, receiverBoxPublic, senderBoxSecret)\n  };\n}\nfunction convertSecretKeyToCurve25519(secretKey) {\n  return ed2curve.convertSecretKey(secretKey);\n}\nfunction convertPublicKeyToCurve25519(publicKey) {\n  return ed2curve.convertPublicKey(publicKey);\n}\nexport function decryptMessage(\n  encryptedMessageWithNonce,\n  senderPublicKey,\n  secretKey\n) {\n  const messageU8a = u8aToU8a(encryptedMessageWithNonce);\n  return naclOpen(\n    messageU8a.slice(24, messageU8a.length),\n    messageU8a.slice(0, 24),\n    convertPublicKeyToCurve25519(u8aToU8a(senderPublicKey)),\n    convertSecretKeyToCurve25519(secretKey)\n  );\n}\nexport function encryptMessage(\n  message,\n  recipientPublicKey,\n  secretKey,\n  nonceIn\n) {\n  const { nonce, sealed } = naclSeal(\n    u8aToU8a(message),\n    convertSecretKeyToCurve25519(secretKey),\n    convertPublicKeyToCurve25519(u8aToU8a(recipientPublicKey)),\n    nonceIn\n  );\n  return u8aConcat(nonce, sealed);\n}\nexport function createPair(mnemonic) {\n  const seed = mnemonicToMiniSecret(mnemonic);\n  const pair = ed25519PairFromSeed(seed);\n  return pair;\n}\nexport function encryptor(pair) {\n  return {\n    pair,\n    address: encodeAddress(pair.publicKey, 32),\n    encodeAddress: (ss58Format = 32) => {\n      return encodeAddress(pair.publicKey, ss58Format);\n    },\n    decryptMessage: (encryptedMessageWithNonce, senderPublicKey) => {\n      return decryptMessage(\n        encryptedMessageWithNonce,\n        senderPublicKey,\n        pair.secretKey\n      );\n    },\n    encryptMessage: (message, recipientPublicKey, nonce) => {\n      return encryptMessage(message, recipientPublicKey, pair.secretKey, nonce);\n    }\n  };\n}\n// export function encryptor(mnemonic) {\n//   const pair = createPair(mnemonic);\n//   return {\n//     pair,\n//     address: encodeAddress(pair.publicKey, 32),\n//     encodeAddress: (ss58Format = 32) => {\n//       return encodeAddress(pair.publicKey, ss58Format);\n//     },\n//     decryptMessage: (encryptedMessageWithNonce, senderPublicKey) => {\n//       return decryptMessage(\n//         encryptedMessageWithNonce,\n//         senderPublicKey,\n//         pair.secretKey\n//       );\n//     },\n//     encryptMessage: (message, recipientPublicKey, nonce) => {\n//       return encryptMessage(message, recipientPublicKey, pair.secretKey, nonce);\n//     }\n//   };\n// }\n","import { encryptor } from \"@/utils/encryptor\";\nimport { decodePair } from \"@polkadot/keyring/pair/decode\";\nimport { u8aToHex, u8aWrapBytes } from \"@polkadot/util\";\nimport { base64Decode } from \"@polkadot/util-crypto\";\nimport { AccountManager } from \"robonomics-interface\";\n\nexport default class AccountManagerDapp extends AccountManager {\n\n  // проверка не вызывался ли уже keyring.loadAll\n  static async create(\n    keyring,\n    config = { ss58Format: 32, type: \"ed25519\" },\n    api = null\n  ) {\n    if (typeof keyring.isReady !== 'function' || !keyring.isReady()) {\n      await keyring.loadAll(config);\n    }\n    const instance = new AccountManagerDapp(keyring, api);\n    instance.setReady(true);\n    return instance;\n  }\n\n  // старая версия конструктора\n  // constructor(keyring, config = {}, api = null) {\n  //   super(keyring, api);\n  //   this.extension = null;\n  //   keyring.loadAll(config);\n  //   this.setReady(true);\n  // }\n\n  constructor(keyring, api = null) {\n    super(keyring, api);\n    this.extension = null;\n    /* keyring.loadAll() вызывается в фабрике create(), потому что важно проверить не инициирован ли уже keyring.loadAll */\n  }\n\n  async beforeSetSender(address, { type, extension }) {\n    // if (this.account && !this.account.meta.isInjected) {\n    //   // this.keyring.forgetAccount(this.account.address);\n    //   this.account.lock();\n    // }\n    this.extension = extension;\n    try {\n      this.keyring.getPair(address);\n      // eslint-disable-next-line no-empty\n    } catch (_) {\n      this.keyring.loadInjected(address, {}, type);\n    }\n  }\n\n  async afterSetSender() {\n    await super.afterSetSender();\n    if (this.account.meta.isInjected && this.extension) {\n      this.api.setSigner(this.extension.signer);\n      this.account.signMsg = async (data) => {\n        return (\n          await this.extension.signer.signRaw({\n            address: this.account.address,\n            data: u8aToHex(u8aWrapBytes(data)),\n            type: \"bytes\"\n          })\n        ).signature;\n      };\n    }\n  }\n\n  async addUri(suri, meta = {}, type = \"ed25519\") {\n    const pair = this.keyring.keyring.addFromUri(suri, meta, type);\n    return await this.setSender(pair.address, {\n      type: type\n    });\n  }\n\n  async addUriPassword(\n    suri,\n    password = undefined,\n    meta = {},\n    type = \"ed25519\"\n  ) {\n    const { pair } = this.keyring.addUri(suri, password, meta, type);\n    return await this.setSender(pair.address, {\n      type: type\n    });\n  }\n\n  async addJsonPassword(json, password) {\n    const pair = this.keyring.createFromJson(json);\n    this.keyring.addPair(pair, password);\n    return await this.setSender(pair.address, {\n      type: pair.type\n    });\n  }\n\n  async addPair(pairKey) {\n    const pair = this.keyring.keyring.addFromPair(pairKey);\n    return await this.setSender(pair.address, {\n      type: pair.type\n    });\n  }\n\n  encryptor(password = null) {\n    if (!this.account.meta.isInjected && this.account.type === \"ed25519\") {\n      const json = this.account.toJson(password);\n      const decoded = decodePair(\n        password,\n        base64Decode(json.encoded),\n        json.encoding.type\n      );\n      return encryptor(decoded);\n    }\n  }\n}\n","import configApp from \"@/config\";\nimport keyring from \"@polkadot/ui-keyring\";\nimport { Robonomics } from \"robonomics-interface\";\nimport { ref, shallowRef } from \"vue\";\nimport AccountManager from \"./robonomicsAccountManager\";\n\nexport default {\n  install: async (app, params = {}) => {\n    const isReady = ref(false);\n    const instance = shallowRef();\n    const accountManager = new AccountManager(keyring);\n    app.provide(\"RobonomicsProvider\", {\n      isReady,\n      instance,\n      accountManager\n    });\n\n    const urlParams = new URLSearchParams(window.location.search);\n    let endpoint = urlParams.get(\"rpc\");\n\n    if (!endpoint) {\n      endpoint =\n        localStorage.getItem(\"rpc-parachain\") || configApp.default_rpc_endpoint;\n    }\n    localStorage.setItem(\"rpc-parachain\", endpoint);\n    const config = {\n      // endpoint: \"ws://127.0.0.1:9944\"\n      // endpoint: \"wss://kusama.rpc.robonomics.network/\"\n      endpoint\n    };\n\n    instance.value = await Robonomics.createInstance({ ...config, ...params });\n    instance.value.setAccountManager(accountManager);\n    isReady.value = true;\n  }\n};\n","import { ethers } from \"ethers\";\nimport { reactive } from \"vue\";\n\nconst CodeError = {\n  PROVIDER: 4,\n  NETWORK: 1,\n  ACCOUNT: 2\n};\n\nclass Web3Error extends Error {\n  constructor(code = null, ...params) {\n    super(...params);\n    this.code = code;\n  }\n}\n\nclass Connector {\n  async activate() {}\n  async getProvider() {}\n  async getAccount() {}\n  async getNetworkId() {}\n}\n\nclass Extension extends Connector {\n  constructor(provider, update) {\n    super();\n    this.provider = provider;\n    this.name = \"extension\";\n    this.account = null;\n    this.networkId = null;\n    this.emit = update;\n  }\n  handleChainChanged(networkId) {\n    this.networkId = Number(networkId);\n    this.emit(\"chainChanged\", { networkId: this.networkId });\n  }\n  async getProvider() {\n    this.provider.on(\"accountsChanged\", (accounts) => {\n      this.handleAccountsChanged(accounts);\n    });\n    this.provider.on(\"chainChanged\", (networkId) => {\n      this.handleChainChanged(networkId);\n    });\n    return this.provider;\n  }\n  async getNetworkId() {\n    this.networkId = Number(\n      await this.provider.request({ method: \"eth_chainId\" })\n    );\n    return this.networkId;\n  }\n  handleAccountsChanged(accounts) {\n    if (accounts.length > 0) {\n      this.account = accounts[0];\n    } else {\n      this.account = null;\n    }\n    this.emit(\"accountsChanged\", { account: this.account });\n  }\n}\n\nclass Provider {\n  constructor({ networks = [] } = {}) {\n    this.provider = null;\n    this.connector = null;\n    this.signer = null;\n    this.networks = networks;\n\n    this.state = reactive({\n      isReady: false,\n      error: null,\n      account: null,\n      networkId: null,\n      block: null\n    });\n  }\n  async setConnector(connector) {\n    if (connector.name === \"extension\") {\n      this.provider = new ethers.BrowserProvider(await connector.getProvider());\n    } else {\n      this.provider = new ethers.WebSocketProvider(\n        await connector.getProvider()\n      );\n    }\n    this.connector = connector;\n    this.setSigner();\n  }\n  async setSigner() {\n    if (this.connector && this.connector.name === \"extension\") {\n      try {\n        this.signer = await this.provider.getSigner();\n        this.state.account = this.signer.address;\n      } catch (error) {\n        console.log(error);\n      }\n    }\n  }\n  on(name, data) {\n    // if (name === \"accountsChanged\") {\n    //   this.state.account = data.account;\n    // }\n    if (name === \"chainChanged\") {\n      this.state.networkId = data.networkId;\n    }\n    if (!this.networks.includes(this.state.networkId)) {\n      this.state.error = new Web3Error(\n        CodeError.NETWORK,\n        `sssPlease, switch to network id ${this.networks}`\n      );\n    } else {\n      this.state.error = null;\n    }\n  }\n  async setProvider(provider) {\n    try {\n      await this.setConnector(\n        new Extension(provider, (name, data) => this.on(name, data))\n      );\n    } catch (error) {\n      console.warn(error.message);\n    }\n    try {\n      if (this.connector) {\n        this.state.networkId = await this.connector.getNetworkId();\n        if (!this.networks.includes(this.state.networkId)) {\n          this.state.error = new Web3Error(\n            CodeError.NETWORK,\n            `Please, switch to network id ${this.networks}`\n          );\n        }\n      }\n    } catch (error) {\n      this.state.error = error;\n    }\n\n    if (this.provider && this.state.error === null) {\n      this.state.isReady = true;\n      this.provider.on(\"block\", async (blockNumber) => {\n        this.state.block = await this.provider.getBlock(blockNumber);\n      });\n      this.state.block = await this.provider.getBlock(\"latest\");\n    }\n  }\n}\n\nexport const $web3 = new Provider({ networks: [11155111] });\n\nexport default {\n  install: async (app) => {\n    app.provide(\"EthereumProvider\", {\n      web3: $web3\n    });\n  }\n};\n","import script from \"./Altruist.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./Altruist.vue?vue&type=script&setup=true&lang=js\"\n\nconst __exports__ = script;\n\nexport default __exports__","import script from \"./Hikikomori.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./Hikikomori.vue?vue&type=script&setup=true&lang=js\"\n\nconst __exports__ = script;\n\nexport default __exports__","import script from \"./Riscv.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./Riscv.vue?vue&type=script&setup=true&lang=js\"\n\nconst __exports__ = script;\n\nexport default __exports__","<template>\n  <div>\n    <div>balance: {{ balance }} NFT</div>\n    <nft-token\n      v-for=\"token in tokens\"\n      :key=\"token.tokenId\"\n      :token=\"token\"\n      @activate=\"loadTokens\"\n      class=\"card\"\n    />\n  </div>\n</template>\n\n<script>\nimport { address } from \"@/config\";\nimport { $web3 } from \"@/plugins/web3\";\nimport axios from \"axios\";\nimport { ethers } from \"ethers\";\nimport { ref, watch } from \"vue\";\nimport nft_abi from \"./abi/NFT.json\";\nimport NftToken from \"./NftToken.vue\";\n\nexport default {\n  components: { NftToken },\n  setup() {\n    const balance = ref(null);\n    const tokens = ref([]);\n\n    // NFT\n    const nftContract = new ethers.Contract(\n      address.nft,\n      nft_abi,\n      $web3.provider\n    );\n\n    (async () => {\n      try {\n        console.log('$web3.state.account', $web3.state.account)\n        balance.value = await nftContract.balanceOf($web3.state.account);\n      } catch (error) {\n        console.log(error);\n      }\n    })();\n\n    watch(\n      () => $web3.state.block,\n      async () => {\n        try {\n          console.log('$web3.state.account', $web3.state.account)\n          balance.value = await nftContract.balanceOf($web3.state.account);\n        } catch (error) {\n          console.log(error);\n        }\n      }\n    );\n\n    const loadTokens = async () => {\n      if (!balance.value) {\n        return;\n      }\n      const ids = [];\n      for (let index = 0; index < balance.value; index++) {\n        try {\n          const tokenId = await nftContract.tokenOfOwnerByIndex(\n            $web3.state.account,\n            index\n          );\n          const uri = await nftContract.tokenURI(tokenId);\n          const ipfsHash = uri.split(\"ipfs://\").pop();\n\n          const res = await axios.get(`https://ipfs.io/ipfs/${ipfsHash}`);\n\n          ids.push({\n            activated: await nftContract.activatedOf(tokenId),\n            tokenId: tokenId.toString(),\n            name: `${res.data.name} #${tokenId.toString()}`,\n            image: res.data.image.split(\"ipfs://\").pop()\n          });\n        } catch (error) {\n          console.log(error);\n        }\n        ``;\n      }\n      tokens.value = ids;\n    };\n\n    watch(balance, loadTokens);\n\n    return {\n      balance,\n      tokens,\n      loadTokens\n    };\n  }\n};\n</script>\n","<template>\n  <div>\n    {{ token.name }}<br />\n    <img :src=\"`https://ipfs.io/ipfs/${token.image}`\" style=\"width: 200px\" />\n    <br />\n    <btn-send\n      v-if=\"!token.activated\"\n      @click=\"(wait) => activate(wait, token.tokenId)\"\n    >\n      Activate\n    </btn-send>\n    <span v-else>activated</span>\n\n    <free-minimum :token=\"token.tokenId\" />\n  </div>\n</template>\n\n<script>\nimport { address } from \"@/config\";\nimport { $web3 } from \"@/plugins/web3\";\nimport { ethers } from \"ethers\";\nimport nft_abi from \"./abi/NFT.json\";\nimport BtnSend from \"./BtnSend.vue\";\nimport FreeMinimum from \"./FreeMinimum.vue\";\n\nexport default {\n  props: [\"token\"],\n  emits: [\"activate\"],\n  components: { BtnSend, FreeMinimum },\n  setup(_, { emit }) {\n    const activate = async (wait, tokenId) => {\n      const nftContract = new ethers.Contract(\n        address.nft,\n        nft_abi,\n        $web3.provider\n      );\n\n      try {\n        const tx = await nftContract.connect($web3.signer).activate(tokenId);\n        await wait(tx);\n        emit(\"activate\", tokenId);\n      } catch (error) {\n        if (error.code === \"CALL_EXCEPTION\" && error.data) {\n          await wait(null, nftContract.interface.parseError(error.data).name);\n        } else {\n          await wait(null, error);\n        }\n      }\n    };\n\n    return {\n      activate\n    };\n  }\n};\n</script>\n","<template>\n  <button\n    @click=\"send\"\n    :disabled=\"status === STATUS.PRE_PROCESS || status === STATUS.WAIT_TX\"\n  >\n    <slot />\n  </button>\n  <div v-if=\"status === STATUS.ERROR\" class=\"error\">{{ error }}</div>\n  <div v-if=\"status === STATUS.READY\" class=\"success\">✓</div>\n</template>\n\n<script>\nimport { ref } from \"vue\";\n\nconst STATUS = {\n  NEW: 1,\n  PRE_PROCESS: 2,\n  WAIT_TX: 3,\n  READY: 4,\n  ERROR: 5\n};\n\nexport default {\n  emits: [\"click\"],\n  setup(_, { emit }) {\n    const status = ref(STATUS.NEW);\n    const error = ref(null);\n\n    const send = async () => {\n      status.value = STATUS.PRE_PROCESS;\n      error.value = null;\n      emit(\"click\", async (tx, e, last = true) => {\n        status.value = STATUS.WAIT_TX;\n        try {\n          if (tx) {\n            const receipt = await tx.wait();\n            console.log(receipt.hash);\n            if (last) {\n              status.value = STATUS.READY;\n            }\n          } else if (e) {\n            if (e.code !== \"ACTION_REJECTED\") {\n              status.value = STATUS.ERROR;\n              error.value = e.code || e;\n            } else {\n              status.value = STATUS.NEW;\n            }\n          }\n        } catch (errorCatch) {\n          status.value = STATUS.ERROR;\n          error.value = errorCatch.message;\n        }\n      });\n    };\n\n    return {\n      STATUS,\n      status,\n      error,\n      send\n    };\n  }\n};\n</script>\n","import { render } from \"./BtnSend.vue?vue&type=template&id=5d3bb413\"\nimport script from \"./BtnSend.vue?vue&type=script&lang=js\"\nexport * from \"./BtnSend.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\n  <div>\n    <div v-if=\"received\">free minimum received</div>\n    <div v-else>\n      <div v-if=\"address\">\n        {{ address }}\n        <button\n          @click=\"requestFreeMinimum\"\n          :disabled=\"!avaible || (status !== 1 && status !== 4)\"\n        >\n          Get free minimum\n        </button>\n        <div v-if=\"status === 3\">request sent</div>\n        {{ error }}\n      </div>\n      <div v-else>Not found parachain account</div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { $web3 } from \"@/plugins/web3\";\nimport { computed, ref, watch } from \"vue\";\nimport { useStore } from \"vuex\";\nimport { checkAvailible, getFreeMinimum } from \"./apiNftOracle\";\n\nexport default {\n  props: [\"token\"],\n  setup(props) {\n    const account = ref();\n\n    const store = useStore();\n\n    watch(\n      () => store.state.robonomicsUIvue.polkadot.address,\n      (address) => {\n        try {\n          account.value = store.state.robonomicsUIvue.polkadot.accounts.find(\n            (item) => item.address === address\n          );\n        } catch (e) { console.error(e); }\n      },\n      { immediate: true }\n    );\n\n    const address = computed(() => account.value?.address);\n\n    const error = ref();\n\n    const avaible = ref(false);\n    const check = async () => {\n      const r = await checkAvailible(props.token, $web3.state.account);\n      avaible.value = r[0];\n      error.value = r[1];\n    };\n    check();\n    const timerId = setInterval(check, 10000);\n\n    const received = computed(() => {\n      if (\n        !avaible.value &&\n        error.value === \"Free minimum for this token has already been received\"\n      ) {\n        return true;\n      }\n      return false;\n    });\n    watch(\n      received,\n      (received) => {\n        if (received) {\n          status.value = 1;\n          clearInterval(timerId);\n        }\n      },\n      { immediate: true }\n    );\n\n    const status = ref(1);\n    const requestFreeMinimum = async () => {\n      status.value = 2;\n      const r = await getFreeMinimum(\n        props.token,\n        $web3.state.account,\n        address.value\n      );\n      if (r[0]) {\n        status.value = 3;\n      } else {\n        status.value = 4;\n      }\n      error.value = r[1];\n    };\n\n    return {\n      address,\n      received,\n      avaible,\n      error,\n      status,\n      requestFreeMinimum\n    };\n  }\n};\n</script>\n","import configApp from \"@/config\";\nimport { $web3 } from \"@/plugins/web3\";\nimport axios from \"axios\";\n\nconst api = axios.create({\n  baseURL: `${configApp.nft_oracle_endpoint}api`\n});\n\nexport const checkAvailible = async (token, accountEthereum) => {\n  try {\n    const result = await api.post(\"/check\", {\n      nft: token,\n      address: accountEthereum\n    });\n    if (result.data.result) {\n      return [result.data.result, result.data.error];\n    } else {\n      return [false, result.data.error];\n    }\n  } catch (error) {\n    return [false, error.message];\n  }\n};\n\nexport const getFreeMinimum = async (\n  token,\n  accountEthereum,\n  accauntParachain\n) => {\n  try {\n    const msg = JSON.stringify({\n      nft: token,\n      address: accountEthereum,\n      for: accauntParachain\n    });\n    const signature = await $web3.signer.signMessage(msg);\n\n    const result = await api.post(\"/verify\", {\n      signature,\n      nft: token,\n      address: accountEthereum,\n      for: accauntParachain\n    });\n    if (result.data.result) {\n      return [result.data.result, result.data.error];\n    } else {\n      return [false, result.data.error];\n    }\n  } catch (error) {\n    return [false, error.message];\n  }\n};\n","import { render } from \"./FreeMinimum.vue?vue&type=template&id=329595d0\"\nimport script from \"./FreeMinimum.vue?vue&type=script&lang=js\"\nexport * from \"./FreeMinimum.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./NftToken.vue?vue&type=template&id=48229e54\"\nimport script from \"./NftToken.vue?vue&type=script&lang=js\"\nexport * from \"./NftToken.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./NftInfo.vue?vue&type=template&id=4b2d5a1a\"\nimport script from \"./NftInfo.vue?vue&type=script&lang=js\"\nexport * from \"./NftInfo.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\n  <robo-layout-section>\n    <robo-text title=\"1\">Season pass</robo-text>\n    \n    <hr />\n    {{ store.state.robonomicsUIvue.ethereum.activeAccount }}\n    <hr/>\n    {{store.state.robonomicsUIvue.ethereum.activeProviderRdns}}\n    <div>\n      <div v-if=\"$web3.state.isReady\">\n        <nft-info v-if=\"$web3.state.account\" />\n        <div v-else>Not found account</div>\n      </div>\n      <div v-else>...</div>\n      <div v-if=\"$web3.state.error\">\n        {{ $web3.state.error }}\n      </div>\n    </div>\n  </robo-layout-section>\n</template>\n\n<script setup>\nimport NftInfo from \"@/components/web3/NftInfo.vue\";\nimport { $web3 } from \"@/plugins/web3\";\nimport { watch, onMounted } from \"vue\";\nimport { useStore } from \"vuex\";\n\nconst store = useStore();\n\nconst providers = [];\nconst handler = (event) => providers.push(event.detail);\n\nwatch(\n  () => store.state.robonomicsUIvue.ethereum.activeProviderRdns,\n  async (value) => {\n    const index = providers.findIndex((item) => {\n      if (item.info.rdns === value) {\n        return true;\n      }\n      return false;\n    });\n    if (index >= 0) {\n      try {\n        await $web3.setProvider(providers[index].provider);\n      } catch (error) {\n        console.log(error);\n      }\n    }\n  }\n);\n\nwatch(\n  () => store.state.robonomicsUIvue.ethereum.activeAccount,\n  async () => {\n    await $web3.setSigner();\n  }\n);\n\nwindow.addEventListener(\"eip6963:announceProvider\", handler);\nwindow.dispatchEvent(new CustomEvent(\"eip6963:requestProvider\"));\n\nonMounted(async () => {\n  const index = providers.findIndex((item) => {\n      if (item.info.rdns === store.state.robonomicsUIvue.ethereum.activeProviderRdns) {\n        return true;\n      }\n      return false;\n    });\n    if (index >= 0) {\n      try {\n        await $web3.setProvider(providers[index].provider);\n      } catch (error) {\n        console.log(error);\n      }\n    }\n\n    await $web3.setSigner();\n})\n</script>\n","import script from \"./Season-pass-2.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./Season-pass-2.vue?vue&type=script&setup=true&lang=js\"\n\nconst __exports__ = script;\n\nexport default __exports__","const chains =\n    {\n       1: {\n        name: 'Ethereum Mainnet'\n       },\n       2: {\n        name: 'Expanse Network'\n       },\n       11155111: {\n        name: 'Sepolia'\n       }\n    }\n\nexport default chains","<template>\n  <robo-layout-section>\n\n    <robo-card allowExpand class=\"seasonpass\">\n        <robo-text title=\"3\" offset=\"x0\">Your season pass 2024-2025</robo-text>\n        <div class=\"seasonpass-content\">\n            <div class=\"seasonpass-content-inside\">\n                <div class=\"seasonpass-msg\" v-if=\"status !== 'START'\">\n                    <template v-if=\"status === 'NO_ETH_EXTENSION'\">Connect or install Ethereum extension in your browser</template>\n                    <template v-if=\"status === 'WRONG_ETH_NETWORK'\">Please, switch to {{chains[workingchain].name}}</template>\n                    <template v-if=\"status === 'NO_WALLET_PERMISSION'\">Please, check permissions in the connected extension</template>\n                    <template v-if=\"status === 'NO_ETH_ACCOUNT'\">No Ethereum account found: check your extension</template>\n                    <template v-if=\"status === 'NFT_NOT_FOUND' || status === 'TOKENS_NOT_FOUND'\">No Season Pass NFT accosiated with this account</template>\n                </div>\n                <robo-loader v-if=\"status === 'NFT_STARTED_GETTING'\" size=\"3\" />\n\n                <div class=\"tokens\" :class=\"'tokens-show-' + curentslide\" v-if=\"status === 'TOKENS_FOUND' && tokens\">\n                    <div class=\"token\" v-for=\"token in tokens\" :key=\"token.tokenId\">\n                        <img :src=\"`https://ipfs.io/ipfs/${token?.image}`\" />\n                        <robo-text lines=\"dotted\" size=\"small\">\n                            <robo-grid type=\"flex\" offset=\"x0\" gap=\"x025\" galign=\"start\" valign=\"center\">\n                                {{token?.name}}\n                            </robo-grid>\n                            <robo-grid type=\"flex\" offset=\"x0\" gap=\"x025\" galign=\"start\" valign=\"center\">\n                                {{token?.tokenId}}\n                            </robo-grid>\n                            <robo-grid type=\"flex\" offset=\"x0\" gap=\"x025\" galign=\"start\" valign=\"center\">\n                                {{token?.status}}\n                            </robo-grid>\n                            <robo-grid type=\"flex\" offset=\"x0\" gap=\"x025\" galign=\"start\" valign=\"center\">\n                                <template v-if=\"token.activated\">Activated</template>\n                                <template v-else>Not activated</template>\n                            </robo-grid>\n                        </robo-text>\n                        <robo-section offset=\"x1\">\n                            <robo-button v-if=\"token.tokenId && !token.activated\" @click.prevent=\"activateToken(token.tokenId)\" size=\"small\">Activate</robo-button>\n                        </robo-section>\n                    </div>\n                </div>\n                <div class=\"tokens-switch\" :class=\"'tokens-switch-showed-' + curentslide\" v-if=\"status === 'TOKENS_FOUND'\">\n                    <robo-button v-for=\"(token, i) in tokens\" :key=\"token.tokenId\" clean @click.prevent=\"setslide(i + 1)\">{{i + 1}}</robo-button>\n                </div>\n            </div>\n            <div class=\"seasonpass-monkey\" aria-hidden=\"true\" v-if=\"status !== 'TOKENS_FOUND'\">\n                <img src=\"images/season-pass-24-25-monkey.webp\" aria-hidden=\"true\"/>\n            </div>\n        </div>\n    </robo-card>\n\n    <!-- <details>\n        <summary>tech</summary>\n        <div v-for=\"token in tokens\" :key=\"token.tokenId\">\n            <img :src=\"`https://ipfs.io/ipfs/${token.image}`\" style=\"width: 200px\" />\n            <p>{{token.name}}</p>\n            <p>activated: {{token.activated}}, {{token.tokenId}}</p>\n            <p>status: {{token?.status}}</p>\n            <robo-button v-if=\"token.tokenId && !token.activated\" @click.prevent=\"activateToken(token.tokenId)\">Activate</robo-button>\n        </div>\n\n        {{account}}\n        <hr/>\n        {{provider?.info?.name}}\n        <hr/>\n        {{balance}}\n        <hr/>\n        {{status}}\n    </details> -->\n\n  </robo-layout-section>\n</template>\n\n<script setup>\nimport { reactive, computed, onMounted, ref, watch } from \"vue\";\nimport { useStore } from \"vuex\";\nconst store = useStore();\n\nimport nft_abi from \"../../components/web3/abi/NFT.json\";\nimport { ethers } from \"ethers\";\nimport { address } from \"@/config\";\n\nimport chains from \"../../eth_chains\";\n\n/* + get providers */\nimport { createStore } from 'mipd';\nconst mipdstore = createStore();\n\nconst state = reactive({ \n    providers: mipdstore.getProviders()\n});\n\nmipdstore.subscribe(providers => {\n    console.log('Providers updated:', providers);\n    state.providers = providers;\n});\n/* - get providers */\n\nconst account = computed(() =>{\n    return store.state.robonomicsUIvue.ethereum.activeAccount;\n});\n\nconst provider = computed(() =>{\n    return state.providers.find(i => i.info.rdns === store.state.robonomicsUIvue.ethereum.activeProviderRdns)\n});\n\nconst isConnected = () => {\n    if(provider?.value) {\n        return provider.value?.provider?._state?.isConnected || provider.value?.provider?.isConnected\n    } else {\n        return false;\n    }\n}\n\nconst workingchain = 11155111;\nconst balance = ref(null);\nconst tokens = ref([]);\nlet signer;\nlet contract;\nlet providerethers = null;\nconst status = ref('START');\nconst curentslide = ref(1);\n\nconst setslide = (s) => {\n    curentslide.value = s\n}\n\nconst getEthersProviderObj = () => {\n    try {\n        providerethers = new ethers.BrowserProvider(provider.value.provider);\n    } catch (error) { console.log(error); }\n}\n\nconst getNFT = async (blockupdate = false) => {\n\n    if(!blockupdate) {\n        status.value = '';\n        tokens.value = [];\n\n        if(!provider.value || !isConnected()) {\n            status.value = 'NO_ETH_EXTENSION';\n            return;\n        }\n    }\n\n    try {\n\n        if(!blockupdate) {\n            const perms = await provider.value.provider.request({method: 'wallet_getPermissions', params: [{ eth_accounts: {} }]});\n            if(!perms || !perms.some(i => i.parentCapability === 'eth_accounts')) {\n                status.value = 'NO_WALLET_PERMISSION';\n                return;\n            }\n\n            const accounts = await provider.value.provider.request({method: 'eth_requestAccounts', params: [{ eth_accounts: {} }]});\n            if(!accounts || accounts?.length < 1) {\n                status.value = 'NO_ETH_ACCOUNT';\n                return;\n            }\n            \n            const chain = await provider.value.provider.request({method: 'eth_chainId', params: [{ eth_accounts: {} }]});\n            if(parseInt(chain) !== workingchain) {\n                status.value = 'WRONG_ETH_NETWORK';\n                return;\n            }\n\n            status.value = 'NFT_STARTED_GETTING';\n\n            getEthersProviderObj();\n            signer = await providerethers.getSigner();\n            contract = new ethers.Contract(address.nft, nft_abi, signer);\n        }\n\n        contract.balanceOf(signer.address)\n            .then(async (r) => {\n                if(blockupdate) {\n                    if(balance.value === parseFloat(r)){\n                        return;\n                    }\n                }\n                balance.value = parseFloat(r);\n\n                if(!balance.value || balance.value < 1) {\n                    status.value = 'NFT_NOT_FOUND';\n                } else {\n                    await loadTokens();\n                }\n\n            })\n            .catch((e) => {\n                console.log(e);\n            });\n    } catch (error) {\n        status.value = 'NFT_NOT_FOUND';\n        console.log(error);\n    }\n}\n\nconst loadTokens = async () => {\n\n    const ids = [];\n    for (let index = 0; index < balance.value; index++) {\n        try {\n            const tokenId = await contract.tokenOfOwnerByIndex(\n                signer.address,\n                index\n            );\n\n            const uri = await contract.tokenURI(tokenId);\n            const ipfsHash = uri.split(\"ipfs://\").pop();\n            const data = await fetch(`https://ipfs.io/ipfs/${ipfsHash}`);\n            const res = await data.json();\n\n            ids.push({\n                activated: await contract.activatedOf(tokenId),\n                tokenId: tokenId.toString(),\n                name: `${res.name} #${tokenId.toString()}`,\n                image: res.image.split(\"ipfs://\").pop(),\n                status: 'INIT'\n            });\n        } catch (error) {\n            console.log(error);\n        }\n    }\n\n    tokens.value = ids;\n\n    if(tokens.value?.length > 0) {\n        status.value = 'TOKENS_FOUND';\n    } else {\n        status.value = 'TOKENS_NOT_FOUND';\n    }\n}\n\nconst activateToken = async (tokenId) => {\n    let current = 0;\n\n    if(tokens.value) {\n        current = tokens.value.findIndex(i => i.tokenId === tokenId);\n    }\n\n    try {\n        tokens.value[current].status = 'ACTIVATION_STARTED';\n\n        const tx = await contract.connect(signer).activate(tokenId);\n        console.log('tx', tx);\n        await loadTokens(); // for updating status\n        tokens.value[current].status = 'ACTIVATION_ENDED';\n    } catch (error) {\n        console.error(error);\n\n        if(error.code === \"ACTION_REJECTED\") {\n            tokens.value[current].status = 'ACTIVATION_REJECTED';\n        } else {\n            tokens.value[current].status = 'ACTIVATION_NOT_SUCCESSFULL';\n        }\n    }\n}\n\n\nwatch([provider, account], async() => {\n    balance.value = null;\n    await getNFT();\n});\n\nonMounted( async () => {\n\n    // const b = await providerethers.getBalance(account.value)\n    // console.log('getBalance', ethers.formatEther(b))\n    await getNFT();\n\n    if(providerethers) {\n        providerethers.on('block', async () => {\n            await getNFT(true);\n        });\n    }\n})\n\n</script>\n\n<style>\n    .seasonpass .robo-card-content {\n        display: grid;\n        grid-template-rows: calc(var(--robo-space) * 4) auto;\n        gap: calc(var(--robo-space) * 2);\n        align-items: stretch;\n    }\n</style>\n\n<style scoped>\n    .seasonpass {\n        position: relative;\n        min-height: 600px;\n    }\n\n    .seasonpass:not(.expand) {\n        max-width: 700px;\n        margin: 0 auto;\n    }\n\n    .seasonpass-monkey {\n        position: absolute;\n        bottom: 0;\n        left: 0;\n        right: 0;\n        text-align: center;\n        opacity: 0;\n        visibility: hidden;\n        animation: flick 2s linear 0.3s forwards;\n        z-index: 0;\n    }\n\n    @keyframes flick {\n        10% {\n            opacity: 0;\n            visibility: hidden;\n        }\n        20% {\n            opacity: 1;\n            visibility: visible;\n        }\n        30% {\n            opacity: 0;\n            visibility: hidden;\n        }\n        40% {\n            opacity: 1;\n            visibility: visible;\n        }\n        50% {\n            opacity: 0;\n            visibility: hidden;\n        }\n        60% {\n            opacity: 1;\n            visibility: visible;\n        }\n        100% {\n            opacity: 1;\n            visibility: visible;\n        }\n    }\n\n    .seasonpass-monkey img {\n        display: inline-block;\n        max-height: 600px;\n        opacity: 0.5;\n    }\n\n    @media (prefers-color-scheme: dark){\n        .seasonpass-monkey img {\n            opacity: 0.2;\n        }\n    }\n\n    .seasonpass-msg {\n        font-weight: bold;\n        text-align: center;\n        max-width: 500px;\n    }\n\n    .seasonpass-content {\n        justify-self: center;\n        align-content: center;\n        min-height: calc(600px - calc(var(--robo-space) * 4));\n    }\n\n    .seasonpass-content-inside {\n        position: relative;\n        z-index: 1;\n    }\n\n    .tokens .token {\n        display: none;\n    }\n\n    .tokens-show-1 .token:nth-child(1),\n    .tokens-show-2 .token:nth-child(2),\n    .tokens-show-3 .token:nth-child(3),\n    .tokens-show-4 .token:nth-child(4),\n    .tokens-show-5 .token:nth-child(5),\n    .tokens-show-6 .token:nth-child(6) {\n        display: block;\n    }\n\n    .tokens-switch-showed-1 .robo-button:nth-child(1),\n    .tokens-switch-showed-2 .robo-button:nth-child(2),\n    .tokens-switch-showed-3 .robo-button:nth-child(3),\n    .tokens-switch-showed-4 .robo-button:nth-child(4),\n    .tokens-switch-showed-5 .robo-button:nth-child(5),\n    .tokens-switch-showed-6 .robo-button:nth-child(6) {\n        opacity: 0.5;\n    }\n\n    .token img {\n        display: block;\n        max-width: 80%;\n        margin: var(--robo-space) auto;\n    }\n\n    .tokens-switch {\n        margin-top: calc(var(--robo-space) * 2);\n    }\n</style>\n","import script from \"./Season-pass.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./Season-pass.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./Season-pass.vue?vue&type=style&index=0&id=d54f8394&lang=css\"\nimport \"./Season-pass.vue?vue&type=style&index=1&id=d54f8394&scoped=true&lang=css\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-d54f8394\"]])\n\nexport default __exports__","<template>\n  <robo-layout-section width=\"middle-wide\">\n\n    <robo-grid minColumnWidth=\"200px\" gap=\"x2\">\n\n      <robo-section>\n        <robo-section card>\n          <template v-if=\"rwsactive && rwsactive !== ''\">\n            <robo-rws-setup-active :show=\"['name', 'owner', 'date', 'userstext', 'link']\" />\n          </template>\n          <template v-else>\n            <robo-text title=\"4\" align=\"left\">RWS subscription</robo-text>\n            <robo-section offset=\"x1\">\n              <robo-text size=\"small\" weight=\"normal-italic\">\n                <robo-grid gap=\"x05\" columns=\"1\">\n                  <robo-grid-item borderbottom>\n                    Price from: <b>~ {{ price }} XRT </b>\n\n                    <robo-details>\n                      <template #summary>\n                        <robo-icon icon=\"circle-question\" />\n                      </template>\n                      <robo-grid gap=\"x05\">\n                        <robo-text weight=\"bold\">Where to buy XRT</robo-text>\n                        <robo-link href=\"https://app.basilisk.cloud/trade\">\n                          Basilisk\n                        </robo-link>\n                        <robo-link\n                          href=\"https://app.solarbeam.io/exchange/swap\"\n                        >\n                          Solarbeam\n                        </robo-link>\n                        <robo-link\n                          href=\"https://trade.kraken.com/markets/kraken/xrt/usd\"\n                        >\n                          Kraken\n                        </robo-link>\n                      </robo-grid>\n                    </robo-details>\n                  </robo-grid-item>\n\n                  <robo-grid-item borderbottom>\n                    Activation time <b>~ 2 min</b>\n                  </robo-grid-item>\n\n                  <robo-grid-item>\n                    Available subscriptions:\n                    <b>{{ freeAuctions }}</b>\n                  </robo-grid-item>\n                </robo-grid>\n              </robo-text>\n            </robo-section>\n\n            <robo-button :router=\"linkActivate\" size=\"small\" block>\n              <robo-icon icon=\"wallet\" /> Buy a subscription\n            </robo-button>\n          </template>\n        </robo-section>\n      </robo-section>\n\n      <robo-section>\n        <robo-text title=\"4\" align=\"left\" offset=\"x05\">Open-source hardware & web3 cloud</robo-text>\n        <robo-text size=\"small\" weight=\"normal-italic\">\n          <robo-grid gap=\"x05\" columns=\"1\">\n            <robo-grid-item borderbottom>\n              <robo-icon icon=\"check\" /> Secured data, only you have an access\n            </robo-grid-item>\n            <robo-grid-item borderbottom>\n              <robo-icon icon=\"check\" /> Remote control without any corporate clouds\n            </robo-grid-item>\n            <robo-grid-item borderbottom>\n              <robo-icon icon=\"check\" /> Brand-independent smart home, combine wanted devices\n            </robo-grid-item>\n            <robo-grid-item>\n              <robo-icon icon=\"check\" /> Update your Robonomics devices as you wish with Type-C\n            </robo-grid-item>\n          </robo-grid>\n        </robo-text>\n      </robo-section>\n    </robo-grid>\n  </robo-layout-section>\n</template>\n\n<script>\nimport { useRobonomics } from \"@/hooks/useRobonomics\";\nimport { fromUnit } from \"@/utils/tools\";\nimport { bnToBn } from \"@polkadot/util\";\nimport { computed, onUnmounted, ref, watch } from \"vue\";\nimport { useStore } from \"vuex\";\n\nexport default {\n  setup() {\n    const price = ref(0);\n    const freeAuctions = ref(0);\n    let unsubscribeBlock = null;\n\n    const store = useStore();\n    const rwsactive = computed(() => {\n      return store.state.robonomicsUIvue.rws.active;\n    });\n    const linkActivate = computed(() => {\n      return store.state.robonomicsUIvue.rws.links.activate;\n    });\n\n    const { isReady, getInstance } = useRobonomics();\n\n    watch(\n      isReady,\n      async (isReady) => {\n        if (isReady) {\n          const robonomics = getInstance();\n          freeAuctions.value = (await robonomics.rws.getAuctionQueue()).length;\n          unsubscribeBlock = await robonomics.events.onBlock(async () => {\n            freeAuctions.value = (\n              await robonomics.rws.getAuctionQueue()\n            ).length;\n          });\n          const minimalBid = await robonomics.rws.getMinimalBid();\n          price.value = minimalBid.add(bnToBn(1));\n        }\n      },\n      { immediate: true }\n    );\n\n    onUnmounted(() => {\n      if (unsubscribeBlock) {\n        unsubscribeBlock();\n      }\n    });\n\n    const priceFormat = computed(() => {\n      if (isReady.value) {\n        return fromUnit(\n          price.value,\n          getInstance().api.registry.chainDecimals[0],\n          0\n        );\n      }\n      return 0;\n    });\n\n    return {\n      rwsactive,\n      linkActivate,\n      freeAuctions,\n      price: priceFormat\n    };\n  }\n};\n</script>\n\n<style>\n#home-links .robo-link {\n  position: relative;\n  display: block;\n  background-color: var(--robo-color-blue-80);\n  min-height: 150px;\n  color: var(--robo-color-light);\n  padding: var(--robo-space);\n  font-weight: bold;\n  text-transform: uppercase;\n}\n\n#home-links .robo-link:before {\n  content: \"\";\n  position: absolute;\n  bottom: 0;\n  left: 0;\n  right: 0;\n  height: 15px;\n  background-color: var(--robo-color-blue);\n  z-index: 1;\n  transition: 0.2s all;\n}\n\n#home-links .robo-link:hover::before {\n  height: 100%;\n}\n\n#home-links .robo-link span {\n  display: block;\n  margin-top: 30px;\n  position: relative;\n  z-index: 2;\n}\n</style>\n","import { render } from \"./Home.vue?vue&type=template&id=307ab300\"\nimport script from \"./Home.vue?vue&type=script&lang=js\"\nexport * from \"./Home.vue?vue&type=script&lang=js\"\n\nimport \"./Home.vue?vue&type=style&index=0&id=307ab300&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\n  <robo-section offset=\"x2\" width=\"narrow\">\n    <robo-section offset=\"x3\">\n      <robo-select\n        block\n        :values=\"commands.map((item) => item.value)\"\n        :options=\"commands.map((item) => item.name)\"\n        v-model=\"parameter\"\n      />\n      <br />\n      <robo-button @click=\"send\" block :loading=\"proccess\">Pay</robo-button>\n      <robo-text weight=\"bold\" v-if=\"result\">{{ result }}</robo-text>\n      <robo-text highlight=\"error\" v-if=\"error\">{{ error }}</robo-text>\n    </robo-section>\n  </robo-section>\n</template>\n\n<script>\nimport { ref, inject } from \"vue\";\nimport * as config from \"./config\";\n\nexport default {\n  setup() {\n    const RobonomicsProvider = inject(\"RobonomicsProvider\");\n\n    const proccess = ref(false);\n    const result = ref(null);\n    const error = ref(null);\n    const commands = ref(config.listOfCommands);\n    const parameter = ref(config.listOfCommands[0].value);\n    const unsubscribe = ref(null);\n\n    const send = async () => {\n      error.value = \"\";\n      result.value = \"\";\n      proccess.value = true;\n      try {\n        const txs = [\n          RobonomicsProvider.instance.value.api.tx.balances.transfer(\n            config.robot,\n            config.price\n          ),\n          RobonomicsProvider.instance.value.launch.send(\n            config.robot,\n            parameter.value\n          )\n        ];\n        const tx = RobonomicsProvider.instance.value.api.tx.utility.batch(txs);\n        const resultTx =\n          await RobonomicsProvider.instance.value.accountManager.signAndSend(\n            tx\n          );\n        console.log(\"saved\", resultTx);\n        result.value = `${resultTx.blockNumber}-${resultTx.txIndex}`;\n      } catch (error) {\n        console.log(error);\n        error.value = error.message;\n      }\n      proccess.value = false;\n    };\n\n    return {\n      proccess,\n      result,\n      error,\n      commands,\n      parameter,\n      unsubscribe,\n      send\n    };\n  }\n};\n</script>\n","export const price = 500_000_000;\nexport const robot = \"4GfZP7fbGZBx5GxR4mreLGTm872vHYhDMmaV6d1SEHGtv7AP\";\nexport const listOfCommands = [\n  {\n    name: \"Wave Hand\",\n    value: \"0x3000000000000000000000000000000000000000000000000000000000000000\"\n  },\n  {\n    name: \"Wave Hand with Turn\",\n    value: \"0x3100000000000000000000000000000000000000000000000000000000000000\"\n  },\n  {\n    name: \"Shake Hand\",\n    value: \"0x3200000000000000000000000000000000000000000000000000000000000000\"\n  }\n];\n","import { render } from \"./RobonomicsLaunch.vue?vue&type=template&id=40ebbd76\"\nimport script from \"./RobonomicsLaunch.vue?vue&type=script&lang=js\"\nexport * from \"./RobonomicsLaunch.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\n  <robo-layout-section>\n    <robo-section offset=\"x2\" width=\"narrow\" style=\"text-align: center\">\n      <h2>Pay the robot with cryptocurrency.</h2>\n      <br />\n      <robo-text>\n        Experience this unique demo of the future robot economy on the streets\n        of Las Vegas during CES 2025! Pay one Robonomics token ($XRT) to a\n        humanoid for any basic action.\n      </robo-text>\n      <br />\n      <robo-text weight=\"bold\" style=\"font-size: 40px\">\n        Price: 0.5<img src=\"./icon_XRT.png\" class=\"logo\" />\n      </robo-text>\n    </robo-section>\n\n    <template v-if=\"RobonomicsProvider.isReady\">\n      <robonomics-launch />\n    </template>\n    <template v-else>...</template>\n  </robo-layout-section>\n</template>\n\n<script setup>\nimport { inject } from \"vue\";\nimport RobonomicsLaunch from \"./RobonomicsLaunch.vue\";\n\nconst RobonomicsProvider = inject(\"RobonomicsProvider\");\n</script>\n\n<style scoped>\n.logo {\n  width: 45px;\n  vertical-align: text-top;\n  margin: -2px 5px 0;\n}\n</style>\n","import script from \"./RobonomicsApp.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./RobonomicsApp.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./RobonomicsApp.vue?vue&type=style&index=0&id=2314f0b4&scoped=true&lang=css\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-2314f0b4\"]])\n\nexport default __exports__","<script>\nexport default {\n  created: function () {\n    window.location.href = `https://v0.dapp.robonomics.network/${this.$route.href}`;\n  }\n};\n</script>\n","import script from \"./PathNotFound.vue?vue&type=script&lang=js\"\nexport * from \"./PathNotFound.vue?vue&type=script&lang=js\"\n\nconst __exports__ = script;\n\nexport default __exports__","<template>\n  <robo-layout-section>\n    <robo-template-rws-buy\n      :price=\"price\"\n      activationtime=\"2\"\n      :available=\"freeAuctions\"\n      :chainInfoUploaded=\"chainInfoStatus\"\n      :rwsExpiration=\"expiredate\"\n      @on-activate=\"onActivate\"\n    />\n  </robo-layout-section>\n</template>\n\n<script>\nimport { useAccount } from \"@/hooks/useAccount\";\nimport { useBalance } from \"@/hooks/useBalance\";\nimport { useDevices } from \"@/hooks/useDevices\";\nimport { useRobonomics } from \"@/hooks/useRobonomics\";\nimport { useSend } from \"@/hooks/useSend\";\nimport { useSubscription } from \"@/hooks/useSubscription\";\nimport { fromUnit } from \"@/utils/tools\";\nimport { bnToBn } from \"@polkadot/util\";\nimport { computed, onUnmounted, ref, watch, watchEffect } from \"vue\";\n\nexport default {\n  setup() {\n    const price = ref(0);\n    const freeAuctions = ref(0);\n    const chainInfoStatus = ref(false);\n    let unsubscribeBlock = null;\n\n    const { isReady, getInstance } = useRobonomics();\n    const { account, unsubscribe: unsubscribeAccount } = useAccount();\n    const { balance, unsubscribe: unsubscribeBalance } = useBalance(account);\n    const subscription = useSubscription(account);\n    const devices = useDevices(account);\n\n    watch(\n      isReady,\n      async (isReady) => {\n        if (isReady) {\n          const robonomics = getInstance();\n          freeAuctions.value = (await robonomics.rws.getAuctionQueue()).length;\n          unsubscribeBlock = await robonomics.events.onBlock(async () => {\n            freeAuctions.value = (\n              await robonomics.rws.getAuctionQueue()\n            ).length;\n          });\n\n          const minimalBid = await robonomics.rws.getMinimalBid();\n          price.value = minimalBid.add(bnToBn(1));\n          chainInfoStatus.value = true;\n        }\n      },\n      { immediate: true }\n    );\n\n    onUnmounted(() => {\n      if (unsubscribeBlock) {\n        unsubscribeBlock();\n      }\n      if (unsubscribeBalance) {\n        unsubscribeBalance();\n      }\n      unsubscribeAccount();\n    });\n\n    const transaction = useSend();\n    const onActivate = async (setStatus) => {\n\n      /* это для тестов eslint-disable no-unreachable */\n      // setStatus(\"ok\");\n      // return;\n\n      if (!isReady.value) {\n        setStatus(\"error\", \"Parachain is not ready\");\n        return;\n      }\n\n      if (\n        !balance.value ||\n        bnToBn(balance.value).lt(price.value.add(bnToBn(10000000)))\n      ) {\n        console.log(balance.value);\n        setStatus(\n          \"error\",\n          \"Subscription can not be activated due to unsuffcicient XRT balance\"\n        );\n        return;\n      }\n\n      if (freeAuctions.value <= 0) {\n        setStatus(\"error\", \"There are no available subscriptions\");\n        return;\n      }\n\n      if (subscription.hasSubscription.value && subscription.isActive.value) {\n        setStatus(\"error\", \"You have an active subscription\");\n        return;\n      }\n\n      const robonomics = getInstance();\n      let call = robonomics.rws.bid(\n        Number(await robonomics.rws.getFirtsFreeAuction()),\n        price.value\n      );\n      if (!devices.devices.value.includes(account.value)) {\n        call = robonomics.api.tx.utility.batch([\n          call,\n          robonomics.rws.setDevices([...devices.devices.value, account.value])\n        ]);\n      }\n      const tx = transaction.createTx();\n      await transaction.send(tx, call);\n      if (tx.error.value) {\n        if (tx.error.value !== \"Cancelled\") {\n          setStatus(\"error\", tx.error.value);\n        } else {\n          setStatus(\"cancel\");\n        }\n        return;\n      }\n\n      const unsubscribeBlock = await robonomics.events.onBlock(() => {\n        subscription.loadLedger();\n      });\n      const stopWatchEffect = watchEffect(() => {\n        if (subscription.hasSubscription.value && subscription.isActive.value) {\n          stopWatchEffect();\n          unsubscribeBlock();\n          setStatus(\"ok\");\n        }\n      });\n    };\n\n    const priceFormat = computed(() => {\n      if (isReady.value) {\n        return fromUnit(\n          price.value,\n          getInstance().api.registry.chainDecimals[0],\n          0\n        );\n      }\n      return 0;\n    });\n\n    return {\n      freeAuctions,\n      price: priceFormat,\n      expiredate: subscription.validUntil,\n      chainInfoStatus,\n      onActivate\n    };\n  }\n};\n</script>","import { ref, watch } from \"vue\";\nimport { useRobonomics } from \"./useRobonomics\";\n\nexport const useBalance = (account) => {\n  const balance = ref(null);\n  const { isReady, getInstance } = useRobonomics();\n  let unsubscribe;\n  watch(\n    [account, isReady],\n    async () => {\n      if (unsubscribe) {\n        unsubscribe();\n      }\n      if (!isReady.value || !account.value) {\n        return;\n      }\n      const robonomics = getInstance();\n      unsubscribe = await robonomics.account.getBalance(account.value, (r) => {\n        balance.value = r.free.sub(r.frozen).toNumber();\n      });\n    },\n    { immediate: true }\n  );\n  return { balance, unsubscribe };\n};\n","import { render } from \"./RwsActivate.vue?vue&type=template&id=a9c313f0\"\nimport script from \"./RwsActivate.vue?vue&type=script&lang=js\"\nexport * from \"./RwsActivate.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\n  <robo-layout-section>\n\n    <robo-section width=\"narrow\" centered>\n        <robo-text title=\"3\" offset=\"x1\">Saved subscription setups</robo-text>\n\n        <robo-tabs v-if=\"$store.state.robonomicsUIvue.rws.list.length > 1\">\n          <robo-tab label=\"Active subscription\">\n            <robo-rws-setup\n              :onUserDelete=\"removeUser\"\n              :onUserAdd=\"addUser\"\n              :onSaveHapass=\"saveHapass\"\n              :onControllerEdit=\"editController\"\n            />\n          </robo-tab>\n          <robo-tab label=\"All subscriptions\">\n            <robo-rws-setups-list />\n          </robo-tab>\n        </robo-tabs>\n\n        <robo-rws-setup\n          v-else\n          :onUserDelete=\"removeUser\"\n          :onUserAdd=\"addUser\"\n          :onSaveHapass=\"saveHapass\"\n          :onControllerEdit=\"editController\"\n        />\n\n    </robo-section>\n\n  </robo-layout-section>\n</template>\n\n<script>\nimport { useAccount } from \"@/hooks/useAccount\";\nimport { useDevices } from \"@/hooks/useDevices\";\nimport { useRobonomics } from \"@/hooks/useRobonomics\";\nimport { useSend } from \"@/hooks/useSend\";\nimport { u8aToHex } from \"@polkadot/util\";\nimport { decodeAddress, encodeAddress } from \"@polkadot/util-crypto\";\nimport { computed } from \"vue\";\nimport { useStore } from \"vuex\";\n\nexport default {\n  setup() {\n    const store = useStore();\n\n    const setupOwner = computed(() => {\n      return store.state.robonomicsUIvue.rws.active;\n    });\n\n    const { isReady, getInstance } = useRobonomics();\n    const transaction = useSend();\n    const devices = useDevices(setupOwner);\n    const { account } = useAccount();\n\n    const setUser = async (user, setStatus, { skipDuplicateCheck = false } = {}) => {\n      if (!isReady.value) {\n        setStatus(\"error\", \"Parachain is not ready.\");\n        return;\n      }\n      if (setupOwner.value && setupOwner.value !== account.value) {\n        setStatus(\"error\", \"You do not have access to this action.\");\n        return;\n      }\n      if (devices.devices.value.includes(user)) {\n        if(!skipDuplicateCheck) {\n          setStatus(\"error\", \"The address is already in the subscription.\");\n          return;\n        } else {\n          setStatus(\"ok\");\n          return;\n        }\n      }\n\n      const call = await getInstance().rws.setDevices([\n        ...devices.devices.value.filter((addr) => addr !== user),\n        user\n      ]);\n      const tx = transaction.createTx();\n      if (devices.devices.value.includes(account.value)) {\n        await transaction.send(tx, call, setupOwner.value);\n      } else {\n        await transaction.send(tx, call);\n      }\n      if (tx.error.value) {\n        if (tx.error.value !== \"Cancelled\") {\n          setStatus(\"error\", tx.error.value);\n        } else {\n          setStatus(\"cancel\");\n        }\n        return;\n      } else {\n        await devices.loadDevices();\n      }\n      store.commit(\"rws/setUsers\", devices.devices);\n      setStatus(\"ok\");\n    };\n\n    const addUser = async (user, setStatus) => {\n      return setUser(user, setStatus, { skipDuplicateCheck: false });\n    };\n\n    const editController = async (user, setStatus) => {\n      return setUser(user, setStatus, { skipDuplicateCheck: true });\n    };\n\n    const removeUser = async (user, setStatus) => {\n      if (!isReady.value) {\n        setStatus(\"error\", \"Parachain is not ready.\");\n        return;\n      }\n      if (setupOwner.value && setupOwner.value !== account.value) {\n        setStatus(\"error\", \"You do not have access to this action.\");\n        return;\n      }\n      if (devices.devices.value.includes(user)) {\n        const call = await getInstance().rws.setDevices(\n          devices.devices.value.filter((item) => item !== user)\n        );\n        const tx = transaction.createTx();\n        if (devices.devices.value.includes(account.value)) {\n          await transaction.send(tx, call, setupOwner.value);\n        } else {\n          await transaction.send(tx, call);\n        }\n        if (tx.error.value) {\n          if (tx.error.value !== \"Cancelled\") {\n            setStatus(\"error\", tx.error.value);\n          } else {\n            setStatus(\"cancel\");\n          }\n          return;\n        } else {\n          await devices.loadDevices();\n        }\n      }\n      store.commit(\"rws/setUsers\", devices.devices);\n      setStatus(\"ok\");\n    };\n\n    const saveHapass = async (passToSave, setStatus) => {\n      if (!isReady.value) {\n        setStatus(\"error\", \"Parachain is not ready.\");\n        return;\n      }\n      const userAddress = store.state.robonomicsUIvue.rws.user.account;\n      const userType = store.state.robonomicsUIvue.rws.user.acctype ?? 'ed25519';\n      console.log('userType', userType);\n\n      const robonomics = getInstance();\n\n      await robonomics.accountManager.addPair(\n        store.state.robonomicsUIvue.rws.user.key\n      );\n      const user = robonomics.accountManager.encryptor();\n\n      try {\n        encodeAddress(userAddress);\n      } catch (error) {\n        setStatus(\"error\", error.message);\n        return;\n      }\n\n      const encodedDevices = devices.devices.value.map((item) =>\n        encodeAddress(item)\n      );\n      if (!encodedDevices.includes(encodeAddress(userAddress))) {\n        setStatus(\"error\", \"User not found in subscription\");\n        return;\n      }\n\n      const setup = store.state.robonomicsUIvue.rws.list.find(\n        (item) => item.owner === setupOwner.value\n      );\n\n      const passwordForAdmin = user.encryptMessage(\n        passToSave,\n        decodeAddress(setup.controller)\n      );\n\n      const passwordForRecovery = user.encryptMessage(\n        passToSave,\n        decodeAddress(userAddress)\n      );\n\n      const call = await robonomics.datalog.write(\n        JSON.stringify({\n          subscription: setup.owner,\n          ha: setup.controller.address,\n          admin: u8aToHex(passwordForAdmin),\n          user: u8aToHex(passwordForRecovery)\n        })\n      );\n      const tx = transaction.createTx();\n      await transaction.send(tx, call, setup.owner);\n\n      try {\n        const accountOld = store.state.robonomicsUIvue.polkadot.accounts.find(\n          (item) => item.address === store.state.robonomicsUIvue.polkadot.address\n        );\n      \n      if (accountOld) {\n        await robonomics.accountManager.setSender(accountOld.address, {\n          type: accountOld.type,\n          extension: store.state.robonomicsUIvue.polkadot.extensionObj\n        });\n      }\n      } catch (e) { console.error(e); }\n\n      if (tx.error.value) {\n        if (tx.error.value !== \"Cancelled\") {\n          setStatus(\"error\", tx.error.value);\n        } else {\n          setStatus(\"cancel\");\n        }\n        return;\n      }\n\n      setStatus(\"ok\");\n    };\n\n    return {\n      saveHapass,\n      addUser,\n      editController,\n      removeUser\n    };\n  }\n};\n</script>\n","import { render } from \"./RwsSetup.vue?vue&type=template&id=1d61cf28\"\nimport script from \"./RwsSetup.vue?vue&type=script&lang=js\"\nexport * from \"./RwsSetup.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\n  <robo-layout-section>\n    <robo-rws-setup-new\n      :onRequestSubscription=\"onRequestSubscription\"\n      :onSetupGenerate=\"onSetupGenerate\"\n    />\n  </robo-layout-section>\n</template>\n\n<script setup>\nimport { getDevices } from \"@/hooks/useDevices\";\nimport { useRobonomics } from \"@/hooks/useRobonomics\";\nimport { useSend } from \"@/hooks/useSend\";\nimport { getLedger, getValidUntil } from \"@/hooks/useSubscription\";\nimport { nextTick, watch } from \"vue\";\n\nconst { isReady, getInstance } = useRobonomics();\nconst transaction = useSend();\n\nconst onRequestSubscription = async (address, send) => {\n  watch(\n    isReady,\n    async (isReady) => {\n      if (isReady) {\n        try {\n          const robonomics = getInstance();\n          const ledger = await getLedger(robonomics, address);\n          send(getValidUntil(ledger));\n        } catch (e) {\n          console.log(e);\n          send(null);\n        }\n      }\n    },\n    { immediate: true }\n  );\n};\n\nconst onSetupGenerate = async (config, setStatus) => {\n  console.log('onSetupGenerate', config)\n  watch(\n    isReady,\n    async (isReady) => {\n      if (isReady) {\n        try {\n          const robonomics = getInstance();\n          if (robonomics.accountManager.account.address !== config.owner) {\n            setStatus(\"error\", \"owner != signer\");\n            return;\n          }\n          const devices = await getDevices(robonomics, config.owner);\n          if (devices.includes(config.controller.address)) {\n            setStatus(\"ok\", \"Setup saved\");\n            if (stop) {\n              stop();\n            } else {\n              nextTick(() => {\n                stop();\n              });\n            }\n            return;\n          }\n          const call = await robonomics.rws.setDevices([\n            ...devices,\n            config.controller.address\n          ]);\n          const tx = transaction.createTx();\n          if (devices.includes(config.owner)) {\n            await transaction.send(tx, call, config.owner);\n          } else {\n            await transaction.send(tx, call);\n          }\n          if (tx.error.value) {\n            if (tx.error.value !== \"Cancelled\") {\n              setStatus(\"error\", tx.error.value);\n            } else {\n              setStatus(\"error\", 'cancel');\n            }\n            return;\n          } else {\n            setStatus(\"ok\", \"Setup saved\");\n          }\n        } catch (e) {\n          console.log(e);\n          setStatus(\"error\", e);\n        }\n      }\n    },\n    { immediate: true }\n  );\n};\n</script>\n","import script from \"./RwsSetupNew.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./RwsSetupNew.vue?vue&type=script&setup=true&lang=js\"\n\nconst __exports__ = script;\n\nexport default __exports__","<template>\n  <robo-layout-section>\n    energy-monitor\n  </robo-layout-section>\n</template>\n","import { render } from \"./Energy-monitor.vue?vue&type=template&id=827cb03e\"\nconst script = {}\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\n  <robo-layout-section>\n    Subscription owner: <robo-input v-model=\"owner\" />\n    <account-unlock\n      @unlock=\"\n        () => {\n          isUnlock = true;\n        }\n      \"\n    />\n    <hr />\n    <div v-if=\"isUnlock\">\n      <h2>Digital twin</h2>\n      <d-twin\n        :address=\"owner\"\n        :owner=\"owner\"\n        :key=\"updateKey\"\n        @twinId=\"\n          (r) => {\n            twinId = r;\n          }\n        \"\n        @find=\"\n          (r) => {\n            finedFiles = r;\n          }\n        \"\n      />\n      <hr />\n      <div v-if=\"finedFiles\">\n        <h2>Files</h2>\n        <template v-for=\"finedFile in finedFiles\" :key=\"finedFile\">\n          <ipfs-file\n            v-if=\"\n              finedFile !==\n              '0x0000000000000000000000000000000000000000000000000000000000000000'\n            \"\n            :hex=\"finedFile\"\n          />\n        </template>\n      </div>\n      <hr />\n\n      <div>\n        <h2>Setup</h2>\n        <encrypt-message\n          @encrypt=\"\n            (data) => {\n              messageHash = data;\n            }\n          \"\n        />\n        <hr />\n        <div v-if=\"messageHash\">\n          <h3>Upload to ipfs</h3>\n          <ipfs-upload\n            :data=\"messageHash\"\n            @upload=\"\n              (result) => {\n                ipfsFile = result;\n              }\n            \"\n          />\n        </div>\n        <hr />\n        <div v-if=\"ipfsFile\">\n          <h3>Save to crust</h3>\n          <crust-store\n            :file=\"ipfsFile\"\n            @store=\"\n              () => {\n                isStored = true;\n              }\n            \"\n          />\n          <div v-if=\"isStored\">Crust saved</div>\n        </div>\n        <hr />\n        <div v-if=\"twinId && ipfsFile\">\n          <h3>Save to digital twin</h3>\n          <d-twin-save\n            :owner=\"owner\"\n            :twinId=\"twinId\"\n            :address=\"owner\"\n            :data=\"ipfsFile.path\"\n            @save=\"\n              () => {\n                isStored = true;\n                updateKey++;\n              }\n            \"\n          />\n          <div v-if=\"isStored\">Digital twin saved</div>\n        </div>\n      </div>\n    </div>\n  </robo-layout-section>\n</template>\n\n<script>\nimport { ref } from \"vue\";\nimport AccountUnlock from \"./Account.vue\";\nimport CrustStore from \"./Crust.vue\";\nimport DTwin from \"./DTwin.vue\";\nimport DTwinSave from \"./DTwinSave.vue\";\nimport EncryptMessage from \"./Encrypt.vue\";\nimport IpfsFile from \"./IpfsFile.vue\";\nimport IpfsUpload from \"./IpfsUpload.vue\";\n\nexport default {\n  name: \"PageSave\",\n  components: {\n    AccountUnlock,\n    EncryptMessage,\n    DTwin,\n    DTwinSave,\n    IpfsUpload,\n    IpfsFile,\n    CrustStore\n  },\n  setup() {\n    const isUnlock = ref(false);\n    const messageHash = ref(\"\");\n    const ipfsFile = ref();\n    const isStored = ref(false);\n    const isSaved = ref(false);\n    const twinId = ref();\n    const finedFiles = ref();\n    const updateKey = ref(0);\n\n    const owner = \"\";\n\n    return {\n      isUnlock,\n      messageHash,\n      ipfsFile,\n      isStored,\n      isSaved,\n      twinId,\n      finedFiles,\n      owner,\n      updateKey\n    };\n  }\n};\n</script>\n\n<style scoped>\nhr {\n  margin: 20px;\n}\n</style>\n","<template>\n  <div>\n    Account seed:\n    <robo-input v-model=\"seed\" />\n    <robo-button @click=\"unlock\">unlock</robo-button>\n  </div>\n</template>\n\n<script>\nimport { useRobonomics } from \"@/hooks/useRobonomics\";\nimport { ref } from \"vue\";\n\nexport default {\n  name: \"AccountUnlock\",\n  emits: [\"unlock\"],\n  setup(_, { emit }) {\n    const seed = ref(\"\");\n\n    const { getInstance } = useRobonomics();\n\n    const unlock = async () => {\n      const robonomics = getInstance();\n\n      try {\n        await robonomics.accountManager.addUri(seed.value);\n      } catch (error) {\n        console.log(error);\n        return;\n      }\n      console.log(robonomics.accountManager.account.address);\n\n      emit(\"unlock\");\n    };\n\n    return {\n      seed,\n      unlock\n    };\n  }\n};\n</script>\n","import { render } from \"./Account.vue?vue&type=template&id=03ef7282\"\nimport script from \"./Account.vue?vue&type=script&lang=js\"\nexport * from \"./Account.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\n  <div>\n    <div><b>Ipfs file info</b>: {{ file }}</div>\n    <div v-if=\"info\">replica: {{ info.reported_replica_count }}</div>\n    <div v-if=\"balance && price\">\n      <div><b>Balance</b>: {{ $filters.balance(balance, 12, \"CRU\") }}</div>\n      <div><b>Price</b>: {{ $filters.balance(price, 12, \"CRU\") }}</div>\n\n      <div v-if=\"info === null\">\n        <div v-if=\"canStored\">\n          <robo-button @click=\"storeFile\">store file</robo-button>\n        </div>\n        <div v-else>low balance</div>\n      </div>\n    </div>\n    <div v-else>...</div>\n  </div>\n</template>\n\n<script>\nimport { useRobonomics } from \"@/hooks/useRobonomics\";\nimport { Crust } from \"@/utils/crust\";\nimport { computed, ref } from \"vue\";\n\nexport default {\n  name: \"CrustStore\",\n  props: [\"file\"],\n  emits: [\"store\"],\n  setup(props, { emit }) {\n    const { getInstance } = useRobonomics();\n    const crust = new Crust(\"wss://rpc.crust.network\");\n\n    const balance = ref();\n    const price = ref();\n    const info = ref();\n\n    crust.watch(async () => {\n      const robonomics = getInstance();\n      balance.value = await crust.getBalance(\n        robonomics.accountManager.account.address\n      );\n      price.value = await crust.getStorePrice(props.file.size);\n      info.value = (await crust.getInfo(props.file.path)).toHuman();\n      if (info.value) {\n        emit(\"store\");\n      }\n    });\n\n    const canStored = computed(() => {\n      if (balance.value > price.value) {\n        return true;\n      }\n      return false;\n    });\n\n    const storeFile = async () => {\n      if (canStored.value === false) {\n        return;\n      }\n      const robonomics = getInstance();\n      const tx = crust.storeFile(props.file.path, props.file.size);\n      const res = await crust.signAndSend(\n        robonomics.accountManager.account,\n        tx\n      );\n      console.log(res);\n      emit(\"store\");\n    };\n\n    return {\n      balance,\n      price,\n      info,\n      canStored,\n      storeFile\n    };\n  }\n};\n</script>\n","import { typesBundleForPolkadot } from \"@crustio/type-definitions\";\nimport { ApiPromise, WsProvider } from \"@polkadot/api\";\nimport { cryptoWaitReady } from \"@polkadot/util-crypto\";\n\nexport class Crust {\n  constructor(endpoint) {\n    this.isReady = false;\n    this.init(endpoint);\n  }\n\n  watch(cb) {\n    if (this.isReady) {\n      cb();\n      return;\n    }\n    const intervalId = setInterval(() => {\n      if (this.isReady) {\n        clearInterval(intervalId);\n        cb();\n        return;\n      }\n    }, 100);\n  }\n\n  async init(endpoint) {\n    this.provider = new WsProvider(endpoint);\n    this.api = await ApiPromise.create({\n      provider: this.provider,\n      typesBundle: typesBundleForPolkadot\n    });\n    await cryptoWaitReady();\n    this.isReady = true;\n  }\n\n  async getBalance(account, cb) {\n    if (!cb) {\n      const { data } = await this.api.query.system.account(account);\n      return data.free.sub(data.feeFrozen).toNumber();\n    }\n    return this.api.query.system.account(account, ({ data }) => {\n      cb(data.free.sub(data.feeFrozen).toNumber());\n    });\n  }\n\n  async getStorePrice(file_size) {\n    const fileBaseFee = await this.api.query.market.fileBaseFee();\n    const fileByteFee = await this.api.query.market.fileByteFee();\n    return Math.round(\n      fileBaseFee.toNumber() + (fileByteFee.toNumber() * file_size) / 1024 ** 2\n    );\n  }\n\n  async getInfo(ipfs_cid) {\n    return await this.api.query.market.filesV2(ipfs_cid);\n  }\n\n  addRenewalPoolBalance(ipfs_cid, amount) {\n    return this.api.tx.market.addPrepaid(ipfs_cid, amount);\n  }\n\n  storeFile(ipfs_cid, file_size, tips = 0) {\n    return this.api.tx.market.placeStorageOrder(ipfs_cid, file_size, tips, \"\");\n  }\n\n  async signAndSend(account, tx, options = {}) {\n    return new Promise((resolve, reject) => {\n      tx.signAndSend(\n        account.meta.isInjected ? account.address : account,\n        options,\n        (result) => {\n          if (result.status.isInBlock) {\n            result.events.forEach(async (events) => {\n              const {\n                event: { method, section },\n                phase\n              } = events;\n              if (section === \"system\" && method === \"ExtrinsicFailed\") {\n                let message = \"Error\";\n                if (result.dispatchError?.isModule) {\n                  const mod = result.dispatchError.asModule;\n                  const { docs, name, section } =\n                    mod.registry.findMetaError(mod);\n                  console.log(name, section, docs);\n                  message = docs.join(\", \");\n                }\n                return reject(new Error(message));\n              } else if (\n                section === \"system\" &&\n                method === \"ExtrinsicSuccess\"\n              ) {\n                let blockNumber;\n                if (this.api) {\n                  const block = await this.api.rpc.chain.getBlock(\n                    result.status.asInBlock.toString()\n                  );\n                  blockNumber = block.block.header.number.toNumber();\n                }\n                resolve({\n                  block: result.status.asInBlock.toString(),\n                  blockNumber: blockNumber,\n                  txIndex: phase.asApplyExtrinsic.toHuman(),\n                  tx: tx.hash.toString()\n                });\n              }\n            });\n          }\n        }\n      ).catch(reject);\n    });\n  }\n}\n","import { render } from \"./Crust.vue?vue&type=template&id=387582e3\"\nimport script from \"./Crust.vue?vue&type=script&lang=js\"\nexport * from \"./Crust.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\n  <div>\n    <select-twin @change=\"(r) => (twinId = r)\" :key=\"keySelect\" />\n    <create-twin :owner=\"owner\" @create=\"keySelect++\" />\n  </div>\n</template>\n\n<script>\nimport { ref, watch } from \"vue\";\nimport CreateTwin from \"../dtwin/CreateTwin.vue\";\nimport SelectTwin from \"../dtwin/SelectTwin.vue\";\nimport { useTwin } from \"../dtwin/dtwin\";\n\nexport default {\n  props: [\"address\", \"owner\", \"data\"],\n  emits: [\"twinId\", \"find\"],\n  components: { SelectTwin, CreateTwin },\n  setup(props, { emit }) {\n    const twinId = ref();\n    const keySelect = ref(0);\n    const keyRecords = ref(0);\n    const { twin } = useTwin(twinId);\n\n    watch(twinId, (twinId) => {\n      emit(\"twinId\", twinId);\n    });\n\n    watch(twin, (twin) => {\n      if (twin) {\n        const list = [];\n        for (const key in twin) {\n          if (twin[key] === props.address) {\n            list.push(key);\n          }\n        }\n        emit(\"find\", list);\n      }\n    });\n\n    return {\n      twinId,\n      keySelect,\n      keyRecords\n    };\n  }\n};\n</script>\n","import { render } from \"./DTwin.vue?vue&type=template&id=1ab336fb\"\nimport script from \"./DTwin.vue?vue&type=script&lang=js\"\nexport * from \"./DTwin.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\n  <div>\n    <robo-button @click=\"save\">save to digital twin</robo-button>\n  </div>\n</template>\n\n<script>\nimport { useTwinAction } from \"../dtwin/dtwin\";\n\nexport default {\n  props: [\"twinId\", \"owner\", \"address\", \"data\"],\n  emits: [\"save\"],\n  setup(props, { emit }) {\n    const { setSource } = useTwinAction(props.owner);\n\n    const save = async () => {\n      const tx = await setSource(props.twinId, props.data, props.address);\n      if (tx.error.value) {\n        if (tx.error.value !== \"Cancelled\") {\n          console.log(tx.error.value);\n        } else {\n          console.log(\"cancel\");\n        }\n        return false;\n      }\n      emit(\"save\");\n    };\n\n    return {\n      save\n    };\n  }\n};\n</script>\n","import { render } from \"./DTwinSave.vue?vue&type=template&id=e0697b7c\"\nimport script from \"./DTwinSave.vue?vue&type=script&lang=js\"\nexport * from \"./DTwinSave.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\n  <div>\n    <robo-input v-model=\"data\" />\n    <robo-button @click=\"encrypt\">encrypt</robo-button>\n  </div>\n</template>\n\n<script>\nimport { useRobonomics } from \"@/hooks/useRobonomics\";\nimport { u8aToHex } from \"@polkadot/util\";\nimport { decodeAddress } from \"@polkadot/util-crypto\";\nimport { ref } from \"vue\";\n\nexport default {\n  name: \"EncryptMessage\",\n  emits: [\"encrypt\"],\n  setup(_, { emit }) {\n    const data = ref('{\"name\":\"blushing cow\"}');\n\n    const { getInstance } = useRobonomics();\n\n    const encrypt = () => {\n      const robonomics = getInstance();\n      const user = robonomics.accountManager.encryptor();\n      const encryptedMessage = user.encryptMessage(\n        data.value,\n        decodeAddress(user.address)\n      );\n      const dataHex = u8aToHex(encryptedMessage);\n      emit(\"encrypt\", dataHex);\n    };\n\n    return {\n      data,\n      encrypt\n    };\n  }\n};\n</script>\n","import { render } from \"./Encrypt.vue?vue&type=template&id=6cd25a86\"\nimport script from \"./Encrypt.vue?vue&type=script&lang=js\"\nexport * from \"./Encrypt.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\n  <div class=\"block\">\n    <a :href=\"`https://ipfs.io/ipfs/${ipfsHash}`\" target=\"_blank\">\n      {{ ipfsHash }}\n    </a>\n    <div><b>crust info</b>: {{ info }}</div>\n    <div v-if=\"encrypt\"><b>encrypt</b>: {{ encrypt }}</div>\n    <div><b>data</b>: {{ content }}</div>\n  </div>\n</template>\n\n<script>\nimport { useRobonomics } from \"@/hooks/useRobonomics\";\nimport { Crust } from \"@/utils/crust\";\nimport { u8aToString } from \"@polkadot/util\";\nimport { decodeAddress } from \"@polkadot/util-crypto\";\nimport axios from \"axios\";\nimport { hexToCid } from \"robonomics-interface/dist/utils\";\nimport { ref } from \"vue\";\n\nexport default {\n  name: \"IpfsFile\",\n  props: [\"hex\"],\n  setup(props) {\n    const encrypt = ref();\n    const content = ref();\n    const info = ref();\n    const ipfsHash = hexToCid(props.hex);\n\n    const { getInstance } = useRobonomics();\n    const crust = new Crust(\"wss://rpc.crust.network\");\n\n    function omit(key, obj) {\n      const { [key]: omitted, ...rest } = obj;\n      return [rest, omitted];\n    }\n\n    crust.watch(async () => {\n      const res = (await crust.getInfo(ipfsHash)).toHuman();\n      if (res) {\n        const o = omit(\"replicas\", res);\n        info.value = { ...o[0], replicas: Object.keys(o[1]).length };\n      } else {\n        info.value = \"File is not pinned in crust network\";\n      }\n    });\n\n    const decrypt = (data) => {\n      const robonomics = getInstance();\n      const user = robonomics.accountManager.encryptor();\n      const decryptedMessage = user.decryptMessage(\n        data,\n        decodeAddress(user.address)\n      );\n      return u8aToString(decryptedMessage);\n    };\n    const getContentFile = async () => {\n      try {\n        const res = await axios.get(`https://ipfs.io/ipfs/${ipfsHash}`);\n        if (res.data.startsWith(\"0x\")) {\n          encrypt.value = res.data;\n          content.value = decrypt(res.data);\n        } else {\n          encrypt.value = undefined;\n          content.value = res.data;\n        }\n      } catch (error) {\n        console.log(error);\n      }\n    };\n    getContentFile();\n\n    return {\n      ipfsHash,\n      info,\n      encrypt,\n      content\n    };\n  }\n};\n</script>\n\n<style scoped>\n.block {\n  margin: 5px 0;\n  padding: 5px;\n  border: 1px solid #036ffc;\n}\n</style>\n","import { render } from \"./IpfsFile.vue?vue&type=template&id=0eb1b343&scoped=true\"\nimport script from \"./IpfsFile.vue?vue&type=script&lang=js\"\nexport * from \"./IpfsFile.vue?vue&type=script&lang=js\"\n\nimport \"./IpfsFile.vue?vue&type=style&index=0&id=0eb1b343&scoped=true&lang=css\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-0eb1b343\"]])\n\nexport default __exports__","<template>\n  <div>\n    Encrypted content:\n    <small>{{ data }}</small>\n    <robo-input v-model=\"ipfsGateway\" />\n    <robo-button @click=\"upload\">upload</robo-button>\n  </div>\n</template>\n\n<script>\nimport { useRobonomics } from \"@/hooks/useRobonomics\";\nimport { stringToU8a } from \"@polkadot/util\";\nimport { ref } from \"vue\";\nimport { IpfsApiClient } from \"../../plugins/ipfs\";\n\nexport default {\n  name: \"IpfsUpload\",\n  props: [\"data\"],\n  emits: [\"upload\"],\n  setup(props, { emit }) {\n    const ipfsGateway = ref(\"https://ipfs-gw.decloud.foundation\");\n\n    const { getInstance } = useRobonomics();\n\n    const upload = async () => {\n      const ipfs = new IpfsApiClient(ipfsGateway.value);\n\n      const robonomics = getInstance();\n\n      try {\n        const signature = (\n          await robonomics.accountManager.account.signMsg(\n            stringToU8a(robonomics.accountManager.account.address)\n          )\n        ).toString();\n        ipfs.auth(null, robonomics.accountManager.account.address, signature);\n        const file = await ipfs.add(props.data);\n\n        emit(\"upload\", {\n          path: file.path,\n          size: file.size\n        });\n      } catch (error) {\n        console.log(error);\n      }\n    };\n\n    return {\n      ipfsGateway,\n      upload\n    };\n  }\n};\n</script>\n","import { render } from \"./IpfsUpload.vue?vue&type=template&id=1b4f81de\"\nimport script from \"./IpfsUpload.vue?vue&type=script&lang=js\"\nexport * from \"./IpfsUpload.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./Page.vue?vue&type=template&id=dcb50b02&scoped=true\"\nimport script from \"./Page.vue?vue&type=script&lang=js\"\nexport * from \"./Page.vue?vue&type=script&lang=js\"\n\nimport \"./Page.vue?vue&type=style&index=0&id=dcb50b02&scoped=true&lang=css\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-dcb50b02\"]])\n\nexport default __exports__","<template>\n  <Libp2p\n    v-if=\"type === 'libp2p'\"\n    :config=\"config\"\n    :cid=\"cid\"\n    :isKey\n    @connected=\"handlerConnected\"\n    @error=\"handlerError\"\n  />\n  <Launch v-else :config=\"config\" :cid=\"cid\" :isKey />\n</template>\n\n<script>\nimport { useRobonomics } from \"@/hooks/useRobonomics\";\nimport { computed, onMounted, onUnmounted, ref, watch } from \"vue\";\nimport { useStore } from \"vuex\";\nimport Launch from \"./Launch.vue\";\nimport Libp2p from \"./Libp2p.vue\";\nimport { useConfig } from \"./common\";\n\nexport default {\n  components: { Libp2p, Launch },\n  setup() {\n    const store = useStore();\n    const { isReady, accountManager } = useRobonomics();\n    const { config, cid, load } = useConfig();\n    const isKey = ref(false);\n\n    const type = computed(() => {\n      /* always has a value, default is 'libp2p' */\n      return store.state.robonomicsUIvue.polkadot.connection.type;\n    });\n\n    onMounted(() => {\n      // store.commit(\"polkadot/setConnectionConnected\", false);\n      store.commit(\"polkadot/setConnectionStatus\", null);\n    });\n\n    onUnmounted(async () => {\n      if (\n        isReady.value &&\n        isKey.value &&\n        store.state.robonomicsUIvue.polkadot.address !==\n          accountManager.account.address\n      ) {\n        try {\n          const accountOld = store.state.robonomicsUIvue.polkadot.accounts.find(\n            (item) =>\n              item.address === store.state.robonomicsUIvue.polkadot.address\n          );\n          if (accountOld) {\n            await accountManager.setSender(accountOld.address, {\n              type: accountOld.type,\n              extension: store.state.robonomicsUIvue.polkadot.extensionObj\n            });\n          }\n        } catch (e) {\n          console.error(e);\n        }\n      }\n    });\n\n    watch(\n      () => isReady.value,\n      (v) => {\n        if (type.value === \"parachain\") {\n          store.commit(\"polkadot/setConnectionConnected\", v);\n        }\n      },\n      { immediate: true }\n    );\n\n    watch(\n      () => store.state.robonomicsUIvue.rws.user.key,\n      async (key) => {\n        if (key) {\n          await accountManager.addPair(key);\n          isKey.value = true;\n          load();\n        } else {\n          console.log(\"User key not found\");\n        }\n      },\n      { immediate: true }\n    );\n\n    return {\n      store,\n      type,\n      isKey,\n      config,\n      cid,\n      handlerConnected: (result) => {\n        store.commit(\"polkadot/setConnectionType\", \"libp2p\");\n\n        if (result.protoNames().includes(\"p2p-circuit\")) {\n          store.commit(\"polkadot/setConnectionStatus\", \"via relay\");\n        } else {\n          store.commit(\"polkadot/setConnectionStatus\", null);\n        }\n\n        store.commit(\"polkadot/setConnectionConnected\", true);\n      },\n      handlerError: (e) => {\n        console.log(e.message);\n        console.log(\"Switching to parachain\");\n\n        store.commit(\"polkadot/setConnectionType\", \"parachain\");\n        store.commit(\"polkadot/setConnectionConnected\", true);\n        store.commit(\n          \"polkadot/setConnectionStatus\",\n          null\n        ); /* delete message about relay if it was there */\n      }\n    };\n  }\n};\n</script>\n","<template>\n  <robo-smarthome-dashboard\n    :config=\"config\"\n    :datalog=\"data\"\n    :cid=\"cid\"\n    :updateTime=\"updateTime\"\n  />\n\n  <!-- {{data}}, {{dataTest}} -->\n</template>\n\n<script>\nimport { watch } from \"vue\";\nimport { useStore } from \"vuex\";\nimport { useData } from \"./launch\";\n\n// это для тестов верстки карточек, когда все остальные тестовые стенды отвалились\nimport configTest from \"./Lugano-config.json\";\nimport dataTest from \"./Lugano.json\";\n\nexport default {\n  props: {\n    isKey: {\n      default: false,\n      type: Boolean\n    },\n    config: {\n      default: null,\n      type: Object\n    },\n    cid: {\n      type: String\n    }\n  },\n  setup(props) {\n    const { data, updateTime, run, launch } = useData();\n    const store = useStore();\n\n    watch(\n      () => props.isKey,\n      (value) => {\n        if (value) {\n          run();\n        }\n      },\n      { immediate: true }\n    );\n\n    watch(\n      () => store.state.robonomicsUIvue.rws.launch,\n      (value) => {\n        try {\n          launch(JSON.parse(value));\n        } catch (error) {\n          console.log(error);\n        }\n      }\n    );\n\n    return { data, updateTime, dataTest, configTest };\n  }\n};\n</script>\n","import { useAccount } from \"@/hooks/useAccount\";\nimport { inject, watch } from \"vue\";\n\nexport function useIpfs() {\n  const { account } = useAccount();\n  const { instance } = inject(\"IpfsProvider\");\n\n  watch(account, async () => {\n    if (instance.value) {\n      instance.value.authClear();\n    }\n  });\n\n  return instance.value;\n}\n","import { u8aToString } from \"@polkadot/util\";\nimport { utils } from \"robonomics-interface\";\n\nconst clearJson = (string) => {\n  return string\n    .replaceAll(\"'\", '\"')\n    .replaceAll(\"\\\\\", \"\")\n    .replaceAll('\"\"', '\"')\n    .replaceAll(\"True\", \"true\")\n    .replaceAll(\"False\", \"false\")\n    .replaceAll(\"None\", '\"None\"');\n};\n\nexport const parseJson = (string) => {\n  try {\n    return JSON.parse(string);\n  } catch (error) {\n    console.log(\"error parse 1\");\n  }\n  try {\n    return JSON.parse(clearJson(string));\n  } catch (error) {\n    console.log(\"error parse 2\");\n    console.log(string);\n  }\n  return false;\n};\n\nconst getLastIndex = async (robonomics, address) => {\n  const id = await robonomics.datalog.getLastId(address);\n  return id.id;\n};\nexport const getLastDatalog = async (robonomics, controller) => {\n  // console.log(\"getLastDatalog\");\n  if (!controller) {\n    return false;\n  }\n  const lastIndex = await getLastIndex(robonomics, controller);\n  if (lastIndex !== null && lastIndex >= 0) {\n    const last = await robonomics.datalog.readByIndex(controller, lastIndex);\n    return { timestamp: last[0].toNumber(), cid: u8aToString(last[1]) };\n  }\n  return false;\n};\n\n// export const getLastDatalog = async (robonomics, controller) => {\n//   console.log(\"getLastDatalog\");\n//   if (!controller) {\n//     return false;\n//   }\n//   const result = await robonomics.datalog.read(controller);\n//   if (!result.length) {\n//     return false;\n//   }\n//   const last = result[result.length - 1];\n//   return { timestamp: last[0].toNumber(), cid: u8aToString(last[1]) };\n// };\n\nexport const getConfigCid = async (robonomics, controller, twin_id) => {\n  // console.log(\"getConfigCid\");\n  if (!controller || (!twin_id && twin_id !== 0)) {\n    return false;\n  }\n  const twin = await robonomics.twin.getTwin(twin_id);\n  if (!twin) {\n    return false;\n  }\n  const configHex = Object.keys(twin).find((key) => twin[key] === controller);\n  if (!configHex) {\n    return false;\n  }\n  return utils.hexToCid(configHex);\n};\n","import configApp from \"@/config\";\nimport { useRobonomics } from \"@/hooks/useRobonomics\";\nimport { createPair, encryptor } from \"@/utils/encryptor\";\nimport { getConfigCid, getLastDatalog, parseJson } from \"@/utils/telemetry\";\nimport { hexToU8a, u8aToString } from \"@polkadot/util\";\nimport { decodeAddress } from \"@polkadot/util-crypto\";\nimport axios from \"axios\";\nimport { ref, watch } from \"vue\";\nimport { useStore } from \"vuex\";\n\nexport const chainSS58 = 32;\n\nconst watchIpfsGateway = async (store) => {\n  return new Promise((resolve) => {\n    if (store.state.robonomicsUIvue.ipfs.activeGateway) {\n      resolve(store.state.robonomicsUIvue.ipfs.activeGateway);\n      return;\n    }\n    let stop;\n    stop = watch(\n      () => store.state.robonomicsUIvue.ipfs.activeGateway,\n      async (activeGateway) => {\n        if (activeGateway) {\n          resolve(activeGateway);\n          if (stop) {\n            stop();\n          }\n        }\n      },\n      { immediate: true }\n    );\n  });\n};\n\nconst catFile = async (store, cid) => {\n  if (!cid) {\n    return false;\n  }\n  try {\n    const activeGateway = await watchIpfsGateway(store);\n    const res = (await axios.get(`${activeGateway}/ipfs/${cid}`)).data;\n    return res;\n  } catch (error) {\n    console.log(error);\n    throw new Error(\"File not available\");\n  }\n};\n\nexport const decryptData = async (encryptedMsg, controller, account) => {\n  if (encryptedMsg) {\n    try {\n      const controllerPublicKey = decodeAddress(controller);\n      const seed = account.decryptMessage(\n        hexToU8a(encryptedMsg[account.address]),\n        controllerPublicKey\n      );\n      const admin = encryptor(createPair(u8aToString(seed)));\n      const data = admin.decryptMessage(\n        hexToU8a(encryptedMsg.data),\n        controllerPublicKey\n      );\n      return parseJson(u8aToString(data));\n    } catch (error) {\n      console.log(error.message);\n    }\n  }\n  return false;\n};\n\nexport const readFileDecrypt = async (cid, controller, account, store) => {\n  if (cid) {\n    const data = await catFile(store, cid);\n    if (!data) {\n      console.log(`Error: ${cid} not found in ipfs`);\n      throw new Error(`${cid} not found in ipfs`);\n    }\n    const result = await decryptData(data, controller, account);\n    if (result) {\n      return result;\n    } else {\n      console.log(`Error: decryptMsg`);\n      throw new Error(`decryptMsg`);\n    }\n  }\n  return null;\n};\n\nconst loadSetup = (store) => {\n  if (store.state.robonomicsUIvue.rws.active) {\n    const setupRaw = store.state.robonomicsUIvue.rws.list.find(\n      (item) => item.owner === store.state.robonomicsUIvue.rws.active\n    );\n    if (setupRaw) {\n      try {\n        return {\n          controller: setupRaw.controller.address,\n          owner: setupRaw.owner\n        };\n      } catch (error) {\n        console.log(error);\n      }\n    }\n  }\n  return false;\n};\n\nexport const useSetup = () => {\n  const controller = ref(null);\n  const owner = ref(null);\n\n  const store = useStore();\n\n  watch(\n    () => store.state.robonomicsUIvue.rws.active,\n    () => {\n      const setup = loadSetup(store);\n      if (setup) {\n        controller.value = setup.controller;\n        owner.value = setup.owner;\n      }\n    },\n    { immediate: true }\n  );\n\n  return { controller, owner };\n};\n\nexport const notify = (store, text, timeout = 3000) => {\n  store.dispatch(\"app/setStatus\", {\n    value: text,\n    timeout\n  });\n  // console.log(text);\n};\n\nexport const setStatusLaunch = (store, command, status) => {\n  store.commit(\n    \"rws/setLaunch\",\n    JSON.stringify({ ...command, tx: { tx_status: status } })\n  );\n};\n\nexport const useLastDatalog = () => {\n  const cid = ref(null);\n  const updateTime = ref(null);\n  const data = ref(null);\n\n  const store = useStore();\n  const { isReady, getInstance } = useRobonomics();\n  const { controller } = useSetup();\n\n  (async () => {\n    if (isReady.value && controller.value) {\n      const robonomics = getInstance();\n      const datalog = await getLastDatalog(robonomics, controller.value);\n      cid.value = datalog.cid;\n      updateTime.value = datalog.timestamp;\n      try {\n        data.value = await readFileDecrypt(\n          cid.value,\n          controller.value,\n          robonomics.accountManager.encryptor(),\n          store\n        );\n      } catch (error) {\n        console.log(error);\n        notify(store, error.message);\n      }\n    }\n  })();\n\n  return { cid, updateTime, data };\n};\n\nexport const useConfig = () => {\n  const config = ref(null);\n  const cid = ref(\"\");\n\n  const store = useStore();\n  const { isReady, getInstance, accountManager } = useRobonomics();\n  const { controller } = useSetup();\n\n  const getConfig = async (controller) => {\n    const endpoint =\n      localStorage.getItem(\"rpc-parachain\") || configApp.default_rpc_endpoint;\n    const lsKey = `haconfig:${endpoint}:${controller}`;\n\n    if (!isReady.value) {\n      const data = localStorage.getItem(lsKey);\n      if (data) {\n        try {\n          const parsedData = JSON.parse(data);\n          console.log(\"getConfig cache\");\n          return { data: parsedData.value, cache: true };\n        } catch (error) {\n          console.log(\"haconfig bad\", error);\n        }\n      } else {\n        return { data: null, cache: true };\n      }\n    } else {\n      const robonomics = getInstance();\n\n      const datalog = await getLastDatalog(robonomics, controller);\n      cid.value = datalog.cid;\n      const result = await readFileDecrypt(\n        datalog.cid,\n        controller,\n        accountManager.encryptor(),\n        store\n      );\n\n      if (result) {\n        const twin_id = result.twin_id;\n        notify(store, `Twin id #${twin_id}`);\n\n        notify(store, `Start load config`);\n        const cid = await getConfigCid(robonomics, controller, twin_id);\n        if (!cid) {\n          console.log(\"Config not found\");\n          console.log(\"controller\", controller);\n          console.log(\"twin_id\", twin_id);\n        }\n\n        const config = await readFileDecrypt(\n          cid,\n          controller,\n          accountManager.encryptor(),\n          store\n        );\n\n        localStorage.setItem(\n          lsKey,\n          JSON.stringify({ time: Date.now(), value: config })\n        );\n        console.log(\"getConfig chain\");\n\n        return { data: config, cache: false };\n      }\n    }\n    return { data: null, cache: false };\n  };\n\n  const load = async () => {\n    notify(store, \"Find twin id\");\n\n    if (\n      !controller.value ||\n      !accountManager.account ||\n      accountManager.account.type !== \"ed25519\"\n    ) {\n      notify(store, \"Error\");\n      return;\n    }\n\n    let result;\n    try {\n      result = await getConfig(controller.value);\n    } catch (error) {\n      console.log(error);\n      notify(store, \"Error: \" + error.message);\n      return;\n    }\n\n    config.value = result.data;\n    if (result.cache) {\n      const stop = watch(\n        isReady,\n        async () => {\n          if (isReady.value) {\n            try {\n              const result = await getConfig(controller.value);\n              config.value = result.data;\n              stop();\n            } catch (error) {\n              console.log(error);\n              notify(store, \"Error: \" + error.message);\n            }\n          }\n        },\n        { immediate: true }\n      );\n    }\n\n    if (config.value !== null) {\n      notify(store, `Config loaded`);\n    }\n  };\n\n  return { config, cid, load };\n};\n","import { useDevices } from \"@/hooks/useDevices\";\nimport { useIpfs } from \"@/hooks/useIpfs\";\nimport { useRobonomics } from \"@/hooks/useRobonomics\";\nimport { useSend } from \"@/hooks/useSend\";\nimport { getLastDatalog } from \"@/utils/telemetry\";\nimport { stringToU8a, u8aToHex } from \"@polkadot/util\";\nimport { decodeAddress } from \"@polkadot/util-crypto\";\nimport { onUnmounted, ref, watch } from \"vue\";\nimport { useStore } from \"vuex\";\nimport { notify, readFileDecrypt, setStatusLaunch, useSetup } from \"./common\";\n\nexport const useData = () => {\n  const cid = ref(null);\n  const updateTime = ref(null);\n  const data = ref(null);\n\n  const store = useStore();\n  const ipfs = useIpfs();\n  const { isReady, getInstance, accountManager } = useRobonomics();\n  const transaction = useSend();\n  const devices = useDevices();\n  const { controller, owner } = useSetup();\n\n  watch(\n    () => store.state.robonomicsUIvue.rws.active,\n    () => {\n      devices.owner.value = store.state.robonomicsUIvue.rws.active;\n    },\n    { immediate: true }\n  );\n\n  let unsubscribeDatalog;\n  const watchDatalog = async () => {\n    if (!isReady.value) {\n      return;\n    }\n    unsubscribeDatalog = await getInstance().datalog.on(\n      { method: \"NewRecord\" },\n      (results) => {\n        const r = results.filter((item) => {\n          return (\n            item.success &&\n            controller.value &&\n            item.data[0].toHuman() === controller.value\n          );\n        });\n        for (const item of r) {\n          updateTime.value = item.data[1].toNumber();\n          cid.value = item.data[2].toHuman();\n        }\n      }\n    );\n  };\n\n  watch(cid, async () => {\n    try {\n      data.value = await readFileDecrypt(\n        cid.value,\n        controller.value,\n        accountManager.encryptor(),\n        store\n      );\n    } catch (error) {\n      console.log(error);\n      notify(store, error.message);\n    }\n  });\n\n  const run = async () => {\n    if (controller.value) {\n      if (isReady.value) {\n        const datalog = await getLastDatalog(getInstance(), controller.value);\n        cid.value = datalog.cid;\n        updateTime.value = datalog.timestamp;\n        watchDatalog();\n      } else {\n        const stop = watch(isReady, (isReady) => {\n          if (isReady) {\n            run();\n            stop();\n          }\n        });\n      }\n    }\n  };\n\n  const stop = () => {\n    if (unsubscribeDatalog) {\n      unsubscribeDatalog();\n    }\n  };\n\n  onUnmounted(() => {\n    console.log(\"unmount launch\");\n    stop();\n  });\n\n  const launch = async (command) => {\n    console.log(command.launch.params.entity_id, command.tx.tx_status);\n    if (command.tx.tx_status !== \"pending\") {\n      return;\n    }\n\n    notify(store, `Launch command`);\n    console.log(`command ${JSON.stringify(command)}`);\n\n    if (!devices.devices.value.includes(accountManager.account.address)) {\n      notify(store, `Error: You do not have access to device management.`);\n      setStatusLaunch(store, command, \"error\");\n      return;\n    }\n\n    if (!ipfs.isAuth()) {\n      notify(store, `Authorization on ipfs node`);\n      try {\n        const signature = (\n          await accountManager.account.signMsg(\n            stringToU8a(accountManager.account.address)\n          )\n        ).toString();\n        ipfs.auth(owner.value, accountManager.account.address, signature);\n      } catch (error) {\n        if (error.message === \"Cancelled\") {\n          setStatusLaunch(store, command, \"declined\");\n        } else {\n          console.log(error);\n          setStatusLaunch(store, command, \"error\");\n        }\n        return;\n      }\n      setStatusLaunch(store, command, \"approved\");\n    }\n\n    const encryptor = accountManager.encryptor();\n    const controllerPublicKey = decodeAddress(controller.value);\n\n    let commandCid;\n    try {\n      const cmdString = JSON.stringify(command.launch);\n      const cmdCrypto = encryptor.encryptMessage(\n        cmdString,\n        controllerPublicKey\n      );\n      commandCid = await ipfs.add(u8aToHex(cmdCrypto));\n    } catch (error) {\n      setStatusLaunch(store, command, \"error\");\n      notify(store, `Error: ${error.message}`);\n      return;\n    }\n    console.log(`launch ipfs file ${commandCid.path}`);\n\n    if (!isReady.value) {\n      notify(store, `Error: Robonomics is not ready.`);\n      setStatusLaunch(store, command, \"error\");\n      return;\n    }\n\n    notify(store, `Send launch`);\n    const call = getInstance().launch.send(controller.value, commandCid.path);\n    const tx = transaction.createTx();\n    await transaction.send(tx, call, owner.value);\n    if (tx.error.value) {\n      if (tx.error.value !== \"Cancelled\") {\n        setStatusLaunch(store, command, \"error\");\n        notify(store, `Error: ${tx.error.value}`);\n      } else {\n        setStatusLaunch(store, command, \"declined\");\n        notify(store, \"Calcel\");\n      }\n    } else {\n      console.log(command);\n      setStatusLaunch(store, command, \"success\");\n      notify(store, \"Launch sended\");\n    }\n  };\n\n  return { cid, updateTime, data, run, stop, launch };\n};\n","import { render } from \"./Launch.vue?vue&type=template&id=11d2d71c\"\nimport script from \"./Launch.vue?vue&type=script&lang=js\"\nexport * from \"./Launch.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\n  <robo-smarthome-dashboard\n    :config=\"config\"\n    :datalog=\"data\"\n    :cid=\"cid\"\n    :updateTime=\"updateTime\"\n  />\n</template>\n\n<script>\nimport { watch } from \"vue\";\nimport { useStore } from \"vuex\";\nimport { useData } from \"./libp2p\";\n\nexport default {\n  props: {\n    isKey: {\n      default: false,\n      type: Boolean\n    },\n    config: {\n      default: null,\n      type: Object\n    },\n    cid: {\n      type: String\n    }\n  },\n  emits: [\"connected\", \"error\"],\n  setup(props, { emit }) {\n    const { data, updateTime, run, launch } = useData();\n    const store = useStore();\n\n    const isOnce = props.isKey && props.config !== null;\n    const stop = watch(\n      () => [props.isKey, props.config],\n      ([isKey, config]) => {\n        if (isKey && config !== null) {\n          if (!isOnce && typeof stop === \"function\") {\n            stop();\n          }\n          if (config.peer_id) {\n            (async () => {\n              const result = await run(\n                config.peer_id,\n                config.libp2p_multiaddress\n              );\n              if (result) {\n                emit(\"connected\", result);\n              } else {\n                emit(\"error\", new Error(\"connect\"));\n              }\n            })();\n          } else {\n            emit(\"error\", new Error(\"not found peer_id\"));\n          }\n        }\n      },\n      { immediate: true, once: isOnce }\n    );\n\n    watch(\n      () => store.state.robonomicsUIvue.rws.launch,\n      (value) => {\n        try {\n          launch(JSON.parse(value));\n        } catch (error) {\n          console.log(error);\n        }\n      }\n    );\n\n    return { data, updateTime };\n  }\n};\n</script>\n","import { pipe } from \"it-pipe\";\nimport { fromString as uint8ArrayFromString } from \"uint8arrays/from-string\";\nimport { toString as uint8ArrayToString } from \"uint8arrays/to-string\";\n\nexport function createHa() {\n  return (components) => {\n    async function getRequest(stream) {\n      return pipe(stream, async function (source) {\n        let result = \"\";\n        for await (const data of source) {\n          result += uint8ArrayToString(data.subarray());\n        }\n        return JSON.parse(result);\n      });\n    }\n\n    async function sendResponse(stream, msg) {\n      return pipe(\n        [uint8ArrayFromString(JSON.stringify(msg))],\n        stream.sink\n      ).finally(() => {\n        stream.close();\n      });\n    }\n\n    return {\n      async handle(\n        protocol,\n        handler,\n        options = {\n          runOnTransientConnection: true\n        }\n      ) {\n        await components.registrar.handle(\n          protocol,\n          async ({ stream }) => {\n            handler(await getRequest(stream), stream);\n          },\n          options\n        );\n      },\n      async request(\n        connection,\n        protocol,\n        data,\n        options = {\n          runOnTransientConnection: true\n        }\n      ) {\n        if (connection.status !== \"open\") {\n          return;\n        }\n        const stream = await connection.newStream([protocol], options);\n        return pipe(\n          [uint8ArrayFromString(JSON.stringify(data))],\n          stream,\n          async function (source) {\n            let result = \"\";\n            for await (const data of source) {\n              result += uint8ArrayToString(data.subarray());\n            }\n            try {\n              // stream.close();\n              return JSON.parse(result);\n            } catch (error) {\n              return result;\n            }\n          }\n        );\n      },\n      utils: {\n        getRequest,\n        sendResponse\n      }\n    };\n  };\n}\n","import { noise } from \"@chainsafe/libp2p-noise\";\nimport { circuitRelayTransport } from \"@libp2p/circuit-relay-v2\";\nimport { identify } from \"@libp2p/identify\";\n// import { keychain } from \"@libp2p/keychain\";\n// import { defaultLogger } from \"@libp2p/logger\";\nimport { mplex } from \"@libp2p/mplex\";\n// import { webRTC } from \"@libp2p/webrtc\";\nimport { webSockets } from \"@libp2p/websockets\";\nimport * as filters from \"@libp2p/websockets/filters\";\nimport { multiaddr } from \"@multiformats/multiaddr\";\n// import { LevelDatastore } from \"datastore-level\";\n// import { Key } from \"interface-datastore\";\nimport { createLibp2p } from \"libp2p\";\nimport { createHa } from \"./ha\";\n\nexport async function createNode() {\n  // const selfKey = new Key(\"/pkcs8/self\");\n  // const datastore = new LevelDatastore(`libp2p/data`);\n  // const chain = keychain()({\n  //   datastore: datastore,\n  //   logger: defaultLogger()\n  // });\n  // let peerId;\n  // if (await datastore.has(selfKey)) {\n  //   peerId = await chain.exportPeerId(\"self\");\n  // }\n  const node = await createLibp2p({\n    // peerId: peerId,\n    // addresses: {\n    //   listen: [\"/webrtc\"]\n    // },\n    transports: [\n      webSockets({\n        filter: filters.all\n      }),\n      // webRTC(),\n      circuitRelayTransport()\n    ],\n    streamMuxers: [mplex()],\n    connectionEncryption: [noise()],\n    services: {\n      identify: identify(),\n      ha: createHa()\n    },\n    connectionGater: {\n      denyDialMultiaddr: () => {\n        return false;\n      }\n    },\n    connectionManager: {\n      minConnections: 0\n    }\n  });\n  // if (chain != null && !(await datastore.has(selfKey))) {\n  //   await chain.importPeer(\"self\", node.peerId);\n  // }\n  return node;\n}\nexport function defaultRelay(peer_id) {\n  return multiaddr(\n    `/dns4/libp2p-relay-1.robonomics.network/tcp/443/wss/p2p/12D3KooWEMFXXvpZUjAuj1eKR11HuzZTCQ5HmYG9MNPtsnqPSERD/p2p-circuit/p2p/${peer_id}`\n  );\n}\nexport async function connectMultiaddress(peer_id, peer_multiaddress) {\n  if (peer_multiaddress.length > 0) {\n    const localMultiaddrs = [];\n    const circuit = [];\n    for (const peer_multiaddr of peer_multiaddress) {\n      const localMultiaddr = multiaddr(peer_multiaddr);\n      const protos = localMultiaddr.protoNames();\n      if (protos.includes(\"ws\") || protos.includes(\"wss\")) {\n        if (protos.includes(\"p2p-circuit\")) {\n          circuit.push(localMultiaddr);\n        } else if (\n          window.location.protocol !== \"https:\" ||\n          protos.includes(\"wss\")\n        ) {\n          localMultiaddrs.push(localMultiaddr);\n        }\n      }\n    }\n\n    if (localMultiaddrs.length > 0) {\n      for (const addr of localMultiaddrs) {\n        try {\n          await connect(addr);\n          return addr;\n        } catch (error) {\n          console.log(error);\n        }\n      }\n    }\n\n    if (circuit.length > 0) {\n      for (const addr of circuit) {\n        try {\n          await connect(addr);\n          return addr;\n        } catch (error) {\n          console.log(error);\n        }\n      }\n    }\n  }\n  try {\n    const addr = defaultRelay(peer_id);\n    await connect(addr);\n    return addr;\n  } catch (error) {\n    console.log(error);\n  }\n  return false;\n}\n\nlet node = null;\nlet connections = [];\nlet connection = null;\n\nexport async function start() {\n  if (node) {\n    return node;\n  }\n  node = await createNode();\n  await node.start();\n  console.log(`Node started with id ${node.peerId.toString()}`);\n\n  function updateConnectionsList() {\n    connections = node.getConnections().map((item) => {\n      return item.remoteAddr.toString();\n    });\n    console.log(\"Update Connections List\", connections);\n  }\n\n  node.addEventListener(\"connection:open\", (event) => {\n    console.log(\"connected\", event.detail.remoteAddr.toString());\n    updateConnectionsList();\n  });\n\n  node.addEventListener(\"connection:close\", (event) => {\n    console.log(\"disconected\", event.detail.remoteAddr.toString());\n    updateConnectionsList();\n    setTimeout(() => {\n      if (\n        connection &&\n        event.detail.remoteAddr.toString() === connection.remoteAddr.toString()\n      ) {\n        console.log(\"reconnect\");\n        reconnect(connection.remoteAddr.toString());\n      }\n    }, 10000);\n  });\n\n  return node;\n}\n\nexport async function reconnect(addr) {\n  try {\n    await connect(addr);\n  } catch (error) {\n    console.log(error);\n    // setTimeout(async () => {\n    //   if (addr && !connections.includes(addr)) {\n    //     await reconnect(addr);\n    //   }\n    // }, 3000);\n  }\n}\nexport async function connect(addr) {\n  console.log(\"connect to\", addr.toString());\n  if (!connections.includes(addr)) {\n    const listenerMultiaddr = multiaddr(addr);\n    connection = await node.dial(listenerMultiaddr);\n  }\n  return addr;\n}\n\nexport async function disconnect() {\n  if (connection) {\n    await connection.close();\n  }\n  connection = null;\n}\n\nexport function request(data, protocol = \"/call\") {\n  if (node && connection) {\n    return node.services.ha.request(connection, protocol, data);\n  }\n  throw new Error(\"error\");\n}\n","import { useDevices } from \"@/hooks/useDevices\";\nimport { useRobonomics } from \"@/hooks/useRobonomics\";\nimport {\n  connectMultiaddress,\n  disconnect,\n  request,\n  start\n} from \"@/utils/libp2p/libp2p\";\nimport { u8aToHex } from \"@polkadot/util\";\nimport { decodeAddress } from \"@polkadot/util-crypto\";\nimport { onUnmounted, ref, watch } from \"vue\";\nimport { useStore } from \"vuex\";\nimport { decryptData, notify, setStatusLaunch, useSetup } from \"./common\";\n\nexport const useData = () => {\n  const data = ref(null);\n  const updateTime = ref(null);\n\n  const store = useStore();\n  const { accountManager } = useRobonomics();\n  const devices = useDevices();\n  const { controller } = useSetup();\n\n  watch(\n    () => store.state.robonomicsUIvue.rws.active,\n    () => {\n      devices.owner.value = store.state.robonomicsUIvue.rws.active;\n    },\n    { immediate: true }\n  );\n\n  onUnmounted(() => {\n    disconnect();\n  });\n\n  const run = async (peer_id, peer_multiaddress) => {\n    const node = await start();\n    try {\n      notify(store, `Connect to peer id ${peer_id}`);\n      const connected = await connectMultiaddress(peer_id, peer_multiaddress);\n      if (connected) {\n        notify(store, `Connected`);\n        const protocols = node.getProtocols();\n        if (protocols.includes(\"/update\")) {\n          await node.unhandle(\"/update\");\n        }\n        node.services.ha.handle(\"/update\", async (dataRaw, stream) => {\n          const result = await decryptData(\n            dataRaw.data,\n            controller.value,\n            accountManager.encryptor()\n          );\n          if (result) {\n            data.value = result;\n            updateTime.value = Date.now();\n            await node.services.ha.utils.sendResponse(stream, {\n              result: true\n            });\n          } else {\n            notify(store, `Error: decryptMsg`);\n          }\n        });\n        return connected;\n      }\n    } catch (error) {\n      notify(store, `Error: ${error.message}`);\n      console.log(error);\n    }\n    return false;\n  };\n\n  const launch = async (command) => {\n    console.log(command.launch.params.entity_id, command.tx.tx_status);\n    if (command.tx.tx_status !== \"pending\") {\n      return;\n    }\n\n    notify(store, `Launch command`);\n\n    if (!devices.devices.value.includes(accountManager.account.address)) {\n      notify(store, `Error: You do not have access to device management.`);\n      setStatusLaunch(store, command, \"error\");\n      return;\n    }\n\n    try {\n      const encryptor = accountManager.encryptor();\n      const controllerPublicKey = decodeAddress(controller.value);\n      const cmdString = JSON.stringify(command.launch);\n      const cmdCrypto = encryptor.encryptMessage(\n        cmdString,\n        controllerPublicKey\n      );\n      const response = await request({\n        data: {\n          sender: accountManager.account.address,\n          data: u8aToHex(cmdCrypto)\n        }\n      });\n      console.log(`response:`, response);\n\n      setStatusLaunch(store, command, \"success\");\n    } catch (error) {\n      console.log(error);\n      notify(store, `Error: Check status of the HomeAssistant.`);\n      setStatusLaunch(store, command, \"error\");\n    }\n  };\n\n  return { data, updateTime, run, launch };\n};\n","import { render } from \"./Libp2p.vue?vue&type=template&id=0b830996\"\nimport script from \"./Libp2p.vue?vue&type=script&lang=js\"\nexport * from \"./Libp2p.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./Telemetry.vue?vue&type=template&id=41178396\"\nimport script from \"./Telemetry.vue?vue&type=script&lang=js\"\nexport * from \"./Telemetry.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { createRouter, createWebHashHistory } from \"vue-router\";\nimport Altruist from \"./views/hardware/Altruist.vue\";\nimport Hikikomori from \"./views/hardware/Hikikomori.vue\";\nimport Riscv from \"./views/hardware/Riscv.vue\";\nimport SeasonPass2 from \"./views/hardware/Season-pass-2.vue\";\nimport SeasonPass from \"./views/hardware/Season-pass.vue\";\nimport Home from \"./views/Home.vue\";\nimport Humanoid from \"./views/humanoid/RobonomicsApp.vue\";\nimport PathNotFound from \"./views/PathNotFound.vue\";\nimport RwsActivate from \"./views/RwsActivate.vue\";\nimport RwsSetup from \"./views/RwsSetup.vue\";\nimport RwsSetupNew from \"./views/RwsSetupNew.vue\";\n// import Services from \"./views/Services.vue\";\nimport EnergyMonitor from \"./views/hardware/Energy-monitor.vue\";\nimport SaveSetup from \"./views/saveSetup/Page.vue\";\nimport Telemetry from \"./views/telemetry/Telemetry.vue\";\n\nconst routes = [\n  {\n    path: \"/\",\n    name: \"Home\",\n    component: Home,\n    meta: {\n      title: \"Dashboard\"\n    }\n  },\n  {\n    path: \"/rws-buy\",\n    name: \"rwsActivate\",\n    component: RwsActivate,\n    meta: {\n      title: \"Buy a Subscription\"\n    }\n  },\n  {\n    path: \"/rws-setup\",\n    name: \"rwsSetup\",\n    component: RwsSetup,\n    meta: {\n      title: \"Setup a Subscription\"\n    }\n  },\n  {\n    path: \"/rws-setup-new\",\n    name: \"rwsSetupNew\",\n    component: RwsSetupNew,\n    meta: {\n      title: \"New Subscription setup\"\n    }\n  },\n  {\n    path: \"/telemetry\",\n    name: \"telemetry\",\n    component: Telemetry,\n    meta: {\n      title: \"Devices control panel\"\n    }\n  },\n  // {\n  //   path: \"/services\",\n  //   name: \"services\",\n  //   component: Services,\n  //   meta: {\n  //     title: \"Services\"\n  //   }\n  // },\n  {\n    path: \"/hardware/altruist\",\n    name: \"Altruist\",\n    component: Altruist,\n    meta: {\n      title: \"Altruist\"\n    }\n  },\n  {\n    path: \"/hardware/riscv\",\n    name: \"Riscv\",\n    component: Riscv,\n    meta: {\n      title: \"Riscv\"\n    }\n  },\n  {\n    path: \"/hardware/hikikomori\",\n    name: \"Hikikomori\",\n    component: Hikikomori,\n    meta: {\n      title: \"Hikikomori\"\n    }\n  },\n  {\n    path: \"/hardware/season-pass\",\n    name: \"SeasonPass\",\n    component: SeasonPass,\n    meta: {\n      title: \"Season Pass\"\n    }\n  },\n  {\n    path: \"/hardware/season-pass-2\",\n    name: \"SeasonPass2\",\n    component: SeasonPass2,\n    meta: {\n      title: \"Season Pass 2\"\n    }\n  },\n  {\n    path: \"/hardware/energy-monitor\",\n    name: \"EnergyMonitor\",\n    component: EnergyMonitor,\n    meta: {\n      title: \"Energy Monitor\"\n    }\n  },\n  {\n    path: \"/humanoid\",\n    name: \"Humanoid\",\n    component: Humanoid,\n    meta: {\n      title: \"Pay the robot with cryptocurrency\"\n    }\n  },\n  {\n    path: \"/altruist/:address?\",\n    props: true,\n    name: \"AltruistPage\",\n    component: () => import(\"./views/altruist/Page.vue\"),\n    meta: {\n      title: \"Altruist\"\n    }\n  },\n  {\n    path: \"/energy-monitor/:address?\",\n    props: true,\n    name: \"EnergytMonitorPage\",\n    component: () => import(\"./views/energyMonitor/Page.vue\"),\n    meta: {\n      title: \"Energy\"\n    }\n  },\n  {\n    path: \"/dtwin\",\n    name: \"DTwinPage\",\n    component: () => import(\"./views/dtwin/Page.vue\"),\n    meta: {\n      title: \"Digital Twin\"\n    }\n  },\n  {\n    path: \"/save-setup\",\n    name: \"save-setup\",\n    component: SaveSetup,\n    meta: {\n      title: \"Savesetup\"\n    }\n  },\n  { path: \"/:pathMatch(.*)*\", component: PathNotFound }\n];\n\nconst router = createRouter({\n  history: createWebHashHistory(),\n  routes\n});\n\nexport default router;\n","import { createStore } from \"vuex\";\n\nconst store = createStore({\n  state: {\n    name: \"Vue\"\n  }\n});\n\nexport default store;\n","import { fromUnit } from \"./tools\";\nexport default {\n  install: (app) => {\n    app.config.globalProperties.$filters = {\n      balance(value, decimals, symbol) {\n        if (\n          typeof value === \"string\" ||\n          typeof value === \"number\" ||\n          typeof value === \"bigint\"\n        ) {\n          return `${fromUnit(value, decimals, 4)} ${symbol}`;\n        }\n        return \"\";\n      }\n    };\n  }\n};\n","import { Buffer } from \"buffer\";\nimport { robonomicsUI } from \"robonomics-ui-vue\";\nimport { createApp } from \"vue\";\nimport App from \"./App.vue\";\nimport ipfs from \"./plugins/ipfs\";\nimport robonomics from \"./plugins/robonomics\";\nimport web3 from \"./plugins/web3\";\nimport router from \"./router\";\nimport store from \"./store\";\nimport filters from \"./utils/filters\";\nimport { showVersion } from \"./utils/tools\";\n\nimport \"robonomics-ui-vue/style.css\";\n\nwindow.Buffer = Buffer;\n\nshowVersion();\n\nconst app = createApp(App);\n\napp\n  .use(router)\n  .use(store)\n  .use(filters)\n  .use(robonomics)\n  .use(web3)\n  .use(ipfs, {\n    api: { gateway: \"https://ipfs.url.today\" }\n  })\n  .use(robonomicsUI, { store })\n  .mount(\"#app\");\n","<template>\n  <robo-button\n    @click=\"create\"\n    block\n    :disabled=\"isProccess\"\n    :loading=\"isProccess\"\n    :type=\"isSuccess ? 'ok' : 'primary'\"\n  >\n    Create new\n  </robo-button>\n</template>\n\n<script>\nimport { ref } from \"vue\";\nimport { useTwinAction } from \"./dtwin.js\";\n\nexport default {\n  props: [\"owner\"],\n  emits: [\"change\"],\n  setup(props, { emit }) {\n    const { create } = useTwinAction(props.owner);\n    const isProccess = ref(false);\n    const isSuccess = ref(false);\n\n    return {\n      isProccess,\n      isSuccess,\n      create: async () => {\n        isSuccess.value = false;\n        isProccess.value = true;\n        const tx = await create();\n        if (tx.error.value) {\n          if (tx.error.value !== \"Cancelled\") {\n            console.log(tx.error.value);\n          } else {\n            console.log(\"cancel\");\n          }\n          isProccess.value = false;\n          return false;\n        }\n        isProccess.value = false;\n        isSuccess.value = true;\n        emit(\"create\");\n      }\n    };\n  }\n};\n</script>\n","import { render } from \"./CreateTwin.vue?vue&type=template&id=1fb051d6\"\nimport script from \"./CreateTwin.vue?vue&type=script&lang=js\"\nexport * from \"./CreateTwin.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import configApp from \"@/config\";\nimport { createType, TypeRegistry } from \"@polkadot/types\";\nimport { validateAddress } from \"@polkadot/util-crypto\";\nimport { computed, ref, shallowRef, watch } from \"vue\";\nimport { useDevices } from \"./useDevices\";\nimport { useRobonomics } from \"./useRobonomics\";\n\nconst getRegistry = () => {\n  const registry = new TypeRegistry();\n  const types = {\n    PalletRobonomicsRwsSubscription: {\n      _enum: {\n        Lifetime: {\n          tps: \"Compact<u32>\"\n        },\n        Daily: {\n          days: \"Compact<u32>\"\n        }\n      }\n    },\n    PalletRobonomicsRwsSubscriptionLedger: {\n      freeWeight: \"Compact<u64>\",\n      issueTime: \"Compact<u64>\",\n      lastUpdate: \"Compact<u64>\",\n      kind: {\n        _enum: {\n          Lifetime: {\n            tps: \"Compact<u32>\"\n          },\n          Daily: {\n            days: \"Compact<u32>\"\n          }\n        }\n      }\n    }\n  };\n  registry.register(types);\n  return registry;\n};\n\nconst DAYS_TO_MS = 24 * 60 * 60 * 1000;\n\nexport const getLedger = async (robonomics, owner) => {\n  const res = await robonomics.rws.getLedger(owner);\n  if (!res.isEmpty) {\n    return res.value;\n  }\n  return null;\n};\n\nexport const getValidUntil = (ledger) => {\n  if (!ledger) {\n    return null;\n  }\n  if (ledger.kind.isLifetime) {\n    return null;\n  }\n  const issue_time = ledger.issueTime.toNumber();\n  let days = 0;\n  if (ledger.kind.isDaily) {\n    days = ledger.kind.value.days.toNumber();\n  }\n  return issue_time + days * DAYS_TO_MS;\n};\n\nexport const useSubscription = (initialOwner = null) => {\n  const owner = ref(initialOwner);\n  const dataRaw = shallowRef(null);\n\n  const { isReady, getInstance } = useRobonomics();\n  const { devices, loadDevices } = useDevices(owner);\n\n  const getReferenceCallWeight = () => {\n    return getInstance().api.consts.rws.referenceCallWeight;\n  };\n\n  const getLedger = async (owner) => {\n    const endpoint =\n      localStorage.getItem(\"rpc-parachain\") || configApp.default_rpc_endpoint;\n    const lsKey = `hasubscription:${endpoint}:${owner}`;\n\n    if (!isReady.value) {\n      const data = localStorage.getItem(lsKey);\n      if (data) {\n        try {\n          const parsedData = JSON.parse(data);\n          // if (parsedData.time + DAYS_TO_MS > Date.now()) {\n          const res = createType(\n            getRegistry(),\n            \"Option<PalletRobonomicsRwsSubscriptionLedger>\",\n            parsedData.value\n          );\n          // console.log(\"getLedger cache\");\n          return { data: res.value, cache: true };\n          // }\n        } catch (error) {\n          console.log(\"hasubscription bad\", error);\n        }\n      } else {\n        return { data: undefined, cache: true };\n      }\n    } else {\n      const res = await getInstance().rws.getLedger(owner);\n      if (!res.isEmpty) {\n        localStorage.setItem(\n          lsKey,\n          JSON.stringify({ time: Date.now(), value: res.value.toJSON() })\n        );\n        // console.log(\"getLedger chain\");\n        return { data: res.value, cache: false };\n      }\n    }\n    return { data: undefined, cache: false };\n  };\n\n  const getFreeWeightCalc = async (owner) => {\n    const ledger = (await getLedger(owner)).data;\n    if (!ledger) {\n      return -1;\n    }\n\n    const freeWeight = ledger.freeWeight.toNumber();\n    const lastUpdate = ledger.lastUpdate.toNumber();\n    const issueTime = ledger.issueTime.toNumber();\n\n    const referenceCallWeight = getReferenceCallWeight();\n    const now = Date.now();\n\n    let utps = (() => {\n      let tps;\n      if (ledger.kind.isLifetime) {\n        tps = ledger.kind.value.tps.toNumber();\n      } else {\n        const days = ledger.kind.value.days.toNumber();\n        const duration_ms = days * DAYS_TO_MS;\n        if (now < issueTime + duration_ms) {\n          tps = 10000;\n        } else {\n          tps = 0;\n        }\n      }\n      return tps;\n    })();\n\n    const delta = now - lastUpdate;\n    return Math.floor(\n      freeWeight + (referenceCallWeight * utps * delta) / 1000000000\n    );\n  };\n\n  const validUntil = computed(() => {\n    if (!dataRaw.value) {\n      return null;\n    }\n    if (dataRaw.value.kind.isLifetime) {\n      return null;\n    }\n    const issue_time = dataRaw.value.issueTime.toNumber();\n    let days = 0;\n    if (dataRaw.value.kind.isDaily) {\n      days = dataRaw.value.kind.value.days.toNumber();\n    }\n    return issue_time + days * DAYS_TO_MS;\n  });\n\n  const countMonth = computed(() => {\n    if (!dataRaw.value) {\n      return 0;\n    }\n    let days = 0;\n    if (dataRaw.value.kind.isDaily) {\n      days = dataRaw.value.kind.value.days.toNumber();\n    }\n    return days / 30;\n  });\n\n  const isActive = computed(() => {\n    if (\n      !dataRaw.value ||\n      (validUntil.value !== null && Date.now() > validUntil.value)\n    ) {\n      return false;\n    }\n    return true;\n  });\n\n  const hasSubscription = computed(() => {\n    return dataRaw.value;\n  });\n\n  const loadLedger = async () => {\n    if (owner.value) {\n      try {\n        validateAddress(owner.value);\n        const result = await getLedger(owner.value);\n        dataRaw.value = result.data;\n        if (result.cache) {\n          const stop = watch(\n            isReady,\n            async () => {\n              if (isReady.value) {\n                const result = await getLedger(owner.value);\n                dataRaw.value = result.data;\n                stop();\n              }\n            },\n            { immediate: true }\n          );\n        }\n        return;\n        // eslint-disable-next-line no-empty\n      } catch (error) {\n        console.log(error);\n      }\n    }\n    dataRaw.value = null;\n  };\n\n  watch(\n    owner,\n    async () => {\n      await loadLedger();\n    },\n    {\n      immediate: true\n    }\n  );\n\n  return {\n    owner,\n    dataRaw,\n    hasSubscription,\n    isActive,\n    countMonth,\n    validUntil,\n    loadLedger,\n    devices,\n    loadDevices,\n    getFreeWeightCalc\n  };\n};\n","import { ref } from \"vue\";\nimport { useRobonomics } from \"./useRobonomics\";\nimport { useSubscription } from \"./useSubscription\";\n\nexport const useSend = () => {\n  const { isReady, getInstance, accountManager } = useRobonomics();\n  const { getFreeWeightCalc } = useSubscription();\n\n  const getCallWeight = async (tx, signer) => {\n    if (!signer) {\n      if (accountManager.account) {\n        signer = accountManager.account.address;\n      } else {\n        throw new Error(\"Signer required\");\n      }\n    }\n    if (tx.hasPaymentInfo) {\n      return (await tx.paymentInfo(signer)).weight.toNumber();\n    }\n    return 0;\n  };\n\n  const checkWeight = async (tx, owner) => {\n    const freeWeightCalc = await getFreeWeightCalc(owner);\n    if (freeWeightCalc < 0) {\n      throw new Error(`Not found ledger ${owner}`);\n    }\n    const callWeight = await getCallWeight(tx);\n    if (callWeight > freeWeightCalc) {\n      throw new Error(\n        `The origin account have no enough free weight to process these call. Call weight ${callWeight}, Free weight ${freeWeightCalc}`\n      );\n    }\n  };\n\n  const createTx = () => {\n    const result = ref(null);\n    const error = ref(null);\n    const process = ref(false);\n    return { error, process, result };\n  };\n\n  const send = async (tx, call, subscription = false) => {\n    tx.result.value = null;\n    tx.error.value = null;\n    tx.process.value = true;\n    if (!isReady.value) {\n      tx.error.value = \"Robonomics is not ready\";\n      tx.process.value = false;\n      return;\n    }\n    const robonomics = getInstance();\n    try {\n      if (subscription) {\n        await checkWeight(call, subscription);\n        robonomics.accountManager.useSubscription(subscription);\n      }\n      const nonce = await robonomics.api.rpc.system.accountNextIndex(\n        robonomics.accountManager.account.address\n      );\n      tx.result.value = await robonomics.accountManager.signAndSend(call, {\n        nonce\n      });\n      console.log(\"tx\", tx.result.value.block, tx.result.value.tx);\n    } catch (e) {\n      console.log(e);\n      tx.error.value = e.message;\n    }\n    tx.process.value = false;\n    if (subscription) {\n      robonomics.accountManager.useSubscription(false);\n    }\n    return tx.result;\n  };\n\n  return { createTx, send };\n};\n","import { ref } from \"vue\";\nimport { useRobonomics } from \"./useRobonomics\";\n\nexport const useAccount = () => {\n  const account = ref(null);\n  const { accountManager } = useRobonomics();\n  if (accountManager.account) {\n    account.value = accountManager.account.address;\n  }\n  const unsubscribe = accountManager.onChange((res) => {\n    account.value = res.address;\n  });\n  return { account, unsubscribe };\n};\n","import configApp from \"@/config\";\nimport { validateAddress } from \"@polkadot/util-crypto\";\nimport { onUnmounted, ref, watch } from \"vue\";\nimport { useRobonomics } from \"./useRobonomics\";\n\nexport const getDevices = async (robonomics, owner) => {\n  try {\n    const result = await robonomics.rws.getDevices(owner);\n    return result.map((item) => {\n      return item.toHuman();\n    });\n  } catch (error) {\n    console.log(error);\n    return [];\n  }\n};\n\nexport const useDevices = (initialOwner = null) => {\n  const { isReady, getInstance } = useRobonomics();\n  const owner = ref(initialOwner);\n  const devices = ref([]);\n\n  const getDevices = async (owner) => {\n    const endpoint =\n      localStorage.getItem(\"rpc-parachain\") || configApp.default_rpc_endpoint;\n    const lsKey = `hadevices:${endpoint}:${owner}`;\n\n    if (!isReady.value) {\n      const data = localStorage.getItem(lsKey);\n      if (data) {\n        try {\n          const parsedData = JSON.parse(data);\n          // console.log(\"getDevices cache\");\n          return { data: parsedData.value, cache: true };\n        } catch (error) {\n          console.log(\"hadevices bad\", error);\n        }\n      } else {\n        return { data: [], cache: true };\n      }\n    } else {\n      try {\n        const result = await getInstance().rws.getDevices(owner);\n        const list = result.map((item) => {\n          return item.toHuman();\n        });\n        localStorage.setItem(\n          lsKey,\n          JSON.stringify({ time: Date.now(), value: list })\n        );\n        // console.log(\"getDevices chain\");\n        return { data: list, cache: false };\n      } catch (error) {\n        console.log(error);\n      }\n    }\n    return { data: [], cache: false };\n  };\n\n  const loadDevices = async () => {\n    if (owner.value) {\n      try {\n        validateAddress(owner.value);\n        const result = await getDevices(owner.value);\n        devices.value = result.data;\n        if (result.cache) {\n          const stop = watch(\n            isReady,\n            async () => {\n              if (isReady.value) {\n                const result = await getDevices(owner.value);\n                devices.value = result.data;\n                stop();\n              }\n            },\n            { immediate: true }\n          );\n        }\n        return;\n      } catch (error) {\n        console.log(error);\n      }\n    }\n    devices.value = [];\n  };\n\n  watch(\n    owner,\n    async () => {\n      await loadDevices();\n    },\n    {\n      immediate: true\n    }\n  );\n\n  watch(\n    isReady,\n    async (isReady) => {\n      if (isReady) {\n        const unsubscribe = await getInstance().events.on(\n          { section: \"rws\", method: \"NewDevices\" },\n          async (result) => {\n            for (const event of result) {\n              if (event.data[0].toHuman() === owner.value) {\n                await loadDevices();\n              }\n            }\n          }\n        );\n        onUnmounted(unsubscribe);\n      }\n    },\n    { immediate: true }\n  );\n\n  return {\n    owner,\n    devices,\n    loadDevices\n  };\n};\n","<template>\n  <robo-select\n    v-if=\"twins !== undefined && twins.length > 0\"\n    :options=\"twins\"\n    :values=\"twins\"\n    v-model=\"twinId\"\n    size=\"small\"\n    label=\"Choose digital twin\"\n    block\n  />\n  <robo-status v-else-if=\"twins !== undefined && !isLoading\" type=\"warning\">\n    Digital twins do not exist\n  </robo-status>\n  <robo-text v-if=\"isLoading\" weight=\"normal-italic\" align=\"center\">\n    <robo-loader size=\"1.5\" /> Loading\n  </robo-text>\n</template>\n\n<script>\nimport { ref, watch } from \"vue\";\nimport { useTwins } from \"./dtwin\";\n\nexport default {\n  emits: [\"change\"],\n  setup(_, { emit }) {\n    const { twins, isLoading } = useTwins(true);\n    const twinId = ref();\n\n    watch(\n      twins,\n      (twins) => {\n        if (twinId.value === undefined && twins && twins.length > 0) {\n          twinId.value = twins[twins.length - 1];\n        }\n      },\n      { immediate: true }\n    );\n\n    watch(twinId, (twinId) => {\n      emit(\"change\", twinId);\n    });\n\n    return {\n      twins,\n      twinId,\n      isLoading\n    };\n  }\n};\n</script>\n","import { render } from \"./SelectTwin.vue?vue&type=template&id=41307847\"\nimport script from \"./SelectTwin.vue?vue&type=script&lang=js\"\nexport * from \"./SelectTwin.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { inject } from \"vue\";\n\nexport function useRobonomics() {\n  const provider = inject(\"RobonomicsProvider\");\n  return {\n    accountManager: provider.accountManager,\n    isReady: provider.isReady,\n    robonomics: provider.instance,\n    getInstance: () => provider.instance.value\n  };\n}\n","import configApp from \"@/config\";\nimport { useAccount } from \"@/hooks/useAccount\";\nimport { useDevices } from \"@/hooks/useDevices\";\nimport { useRobonomics } from \"@/hooks/useRobonomics\";\nimport { useSend } from \"@/hooks/useSend\";\nimport {\n  cidToHex,\n  hexToCid,\n  stringToHex\n} from \"robonomics-interface/dist/utils\";\nimport { ref, toRef, watch } from \"vue\";\n\n/**\n * Stores the list of digital twin IDs and the total count of digital twins for\n * the given account in the local storage. The storage key is based on the\n * current parachain endpoint and the account address.\n *\n * @param {string} account - The account address.\n * @param {number} total - The total number of digital twins.\n * @param {string[]} twins - The list of digital twin IDs.\n */\nconst setCache = (account, total, twins) => {\n  const endpoint =\n    localStorage.getItem(\"rpc-parachain\") || configApp.default_rpc_endpoint;\n  localStorage.setItem(\n    `twins:${new URL(endpoint).host}:${account}`,\n    JSON.stringify({ total, twins })\n  );\n};\n\n/**\n * Retrieves the cached digital twin data for a given account from local storage.\n * The storage key is based on the current parachain endpoint and the account address.\n *\n * @param {string} account - The account address.\n * @returns {Object} - An object containing the total number of digital twins and the list of twin IDs.\n *                     If no cache is found, returns an object with total set to false and twins as an empty array.\n */\nexport const getCache = (account) => {\n  const endpoint =\n    localStorage.getItem(\"rpc-parachain\") || configApp.default_rpc_endpoint;\n  try {\n    const result = JSON.parse(\n      localStorage.getItem(`twins:${new URL(endpoint).host}:${account}`)\n    );\n    if (result) {\n      return result;\n    }\n  } catch (e) {\n    console.log(e);\n  }\n  return { total: false, twins: [] };\n};\n\n/**\n * Queries the total number of digital twins in the parachain.\n *\n * @param {Robonomics} robonomics - The Robonomics API instance.\n * @returns {Promise<number>} - The total number of digital twins.\n */\nexport const getTotal = async (robonomics) => {\n  return await robonomics.twin.getTotal();\n};\n\n/**\n * Queries the digital twin IDs for a given account address, starting from a given index.\n * The function returns an object containing the total number of digital twins and the list of twin IDs.\n *\n * @param {Robonomics} robonomics - The Robonomics API instance.\n * @param {string} address - The account address.\n * @param {number} [startIndex=0] - The starting index for the query.\n * @returns {Promise<Object>} - An object containing the total number of digital twins and the list of twin IDs.\n */\nconst twinsByAccount = async (robonomics, address, startIndex = 0) => {\n  const twins = [];\n  const total = await getTotal(robonomics);\n  for (let id = startIndex; id < total; id++) {\n    const owner = await robonomics.twin.getOwner(id);\n    if (owner === address) {\n      twins.push(id);\n    }\n  }\n  return { total, twins };\n};\n\n/**\n * Queries the digital twin IDs for a given account address and stores them in local storage.\n *\n * @param {Robonomics} robonomics - The Robonomics API instance.\n * @param {string} address - The account address.\n * @returns {Promise<number[]>} - The list of digital twin IDs.\n */\nexport const loadTwins = async (robonomics, address) => {\n  const { total, twins } = await twinsByAccount(robonomics, address);\n  setCache(address, total, twins);\n  return twins;\n};\n\n/**\n * Converts a given token (hex-string) to a utf-8 encoded string.\n * @param {string} token - A token (hex-string).\n * @returns {string} The utf-8 encoded string.\n */\nexport const tokenToString = (token) => {\n  token = token.replace(/^0x/, \"\").replace(/^00+/, \"\");\n  if (token.length % 2 !== 0) {\n    token = \"0\" + token;\n  }\n  return Buffer.from(token, \"hex\").toString(\"utf8\");\n};\n\n/**\n * Converts a given token (hex-string) to a Content-Addressed Identifier (CID).\n * @param {string} token - A token (hex-string).\n * @returns {string} The Content-Addressed Identifier (CID).\n */\nexport const tokenToCid = (token) => {\n  return hexToCid(token);\n};\n\n/**\n * A hook that returns the digital twin data for a given digital twin ID.\n * The hook listens to changes of the given `id` ref and updates the `twin` ref\n * with the corresponding digital twin data.\n *\n * @param {Ref<number>} id - The digital twin ID.\n * @returns {Object} - An object containing a `twin` ref with the digital twin data.\n */\nexport function useTwin(id) {\n  const { getInstance } = useRobonomics();\n  const twin = ref();\n\n  watch(\n    id,\n    async (twinId) => {\n      if (twinId >= 0) {\n        const robonomics = getInstance();\n        twin.value = await robonomics.twin.getTwin(twinId);\n      }\n    },\n    { immediate: true }\n  );\n\n  return { twin };\n}\n\n/**\n * A hook that returns the list of digital twin IDs for a given account address.\n * The hook listens to changes of the given `account` ref and updates the `twins` ref\n * with the corresponding list of digital twin IDs. The `isLoading` ref indicates if the\n * data is being loaded.\n *\n * @param {boolean} [force=false] - If true, will immediately run the query.\n * @returns {Object} - An object containing a `twins` ref with the list of digital twin IDs,\n * a `isLoading` ref indicating if the data is being loaded, and a `run` function to run\n * the query.\n */\nexport function useTwins(force = false) {\n  const { isReady, getInstance } = useRobonomics();\n  const { account } = useAccount();\n  const twins = ref();\n  const isLoading = ref(false);\n\n  const load = async (account) => {\n    const robonomics = getInstance();\n    const result = getCache(account);\n    let startIndex = 0;\n    if (result.total !== false) {\n      const total = await getTotal(robonomics);\n      if (total === result.total) {\n        twins.value = result.twins;\n        return;\n      } else {\n        startIndex = result.total;\n      }\n    }\n    twins.value = await loadTwins(robonomics, account, startIndex);\n  };\n\n  const run = () => {\n    watch(\n      [account, isReady],\n      async ([account, isReady]) => {\n        if (account && isReady) {\n          isLoading.value = true;\n          await load(account);\n          isLoading.value = false;\n        }\n      },\n      { immediate: true }\n    );\n  };\n  if (force) {\n    run();\n  }\n\n  return {\n    twins,\n    isLoading,\n    run\n  };\n}\n\n/**\n * A hook that returns an object with two functions: `create` and `setSource`.\n * Both functions return a transaction hash after sending the transaction.\n *\n * @function create - Creates a new digital twin. The function takes no arguments.\n * @function setSource - Sets the source of a digital twin. The function takes three arguments:\n *   - `id`: The ID of the digital twin.\n *   - `topic`: The topic of the source. Can be a CID or a string.\n *   - `source`: The source of the digital twin.\n */\nexport function useTwinAction(subscribe) {\n  const { getInstance } = useRobonomics();\n  const transaction = useSend();\n  const { account } = useAccount();\n  if (!subscribe) {\n    subscribe = account;\n  } else {\n    subscribe = toRef(subscribe);\n  }\n  const devices = useDevices(subscribe);\n\n  const create = async () => {\n    const robonomics = getInstance();\n    const call = robonomics.twin.create();\n    const tx = transaction.createTx();\n    if (devices.devices.value.includes(account.value)) {\n      await transaction.send(tx, call, subscribe.value);\n    } else {\n      await transaction.send(tx, call);\n    }\n    return tx;\n  };\n\n  const setSource = async (id, topic, source) => {\n    const robonomics = getInstance();\n    let hex = topic;\n    if (!topic.startsWith(\"0x\")) {\n      try {\n        hex = cidToHex(topic);\n      } catch (_) {\n        hex = stringToHex(topic);\n      }\n    }\n    const call = robonomics.twin.setSource(id, hex, source);\n    const tx = transaction.createTx();\n    if (devices.devices.value.includes(account.value)) {\n      await transaction.send(tx, call, subscribe.value);\n    } else {\n      await transaction.send(tx, call);\n    }\n    return tx;\n  };\n\n  return { create, setSource };\n}\n","export default {\n  default_rpc_endpoint: \"wss://polkadot.rpc.robonomics.network/\",\n  nft_oracle_endpoint: \"https://nft-oracle.robonomics.network/\"\n};\n\n// SEPOLIA\nexport const address = {\n  xrt: \"0x9516AFb2b538CAbDcC04e2289E9d48eEBD8fa6ef\",\n  tokenVesting: \"0xf1ba89053f407DF832b135F19fDB064C7A97E1F3\",\n  nft: \"0x0c0C092f372c3Cb49D116A14fA7dcc40e84275aa\"\n};\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\tid: moduleId,\n\t\tloaded: false,\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Flag the module as loaded\n\tmodule.loaded = true;\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n// expose the modules object (__webpack_modules__)\n__webpack_require__.m = __webpack_modules__;\n\n","__webpack_require__.amdO = {};","var deferred = [];\n__webpack_require__.O = function(result, chunkIds, fn, priority) {\n\tif(chunkIds) {\n\t\tpriority = priority || 0;\n\t\tfor(var i = deferred.length; i > 0 && deferred[i - 1][2] > priority; i--) deferred[i] = deferred[i - 1];\n\t\tdeferred[i] = [chunkIds, fn, priority];\n\t\treturn;\n\t}\n\tvar notFulfilled = Infinity;\n\tfor (var i = 0; i < deferred.length; i++) {\n\t\tvar chunkIds = deferred[i][0];\n\t\tvar fn = deferred[i][1];\n\t\tvar priority = deferred[i][2];\n\t\tvar fulfilled = true;\n\t\tfor (var j = 0; j < chunkIds.length; j++) {\n\t\t\tif ((priority & 1 === 0 || notFulfilled >= priority) && Object.keys(__webpack_require__.O).every(function(key) { return __webpack_require__.O[key](chunkIds[j]); })) {\n\t\t\t\tchunkIds.splice(j--, 1);\n\t\t\t} else {\n\t\t\t\tfulfilled = false;\n\t\t\t\tif(priority < notFulfilled) notFulfilled = priority;\n\t\t\t}\n\t\t}\n\t\tif(fulfilled) {\n\t\t\tdeferred.splice(i--, 1)\n\t\t\tvar r = fn();\n\t\t\tif (r !== undefined) result = r;\n\t\t}\n\t}\n\treturn result;\n};","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = function(module) {\n\tvar getter = module && module.__esModule ?\n\t\tfunction() { return module['default']; } :\n\t\tfunction() { return module; };\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","var getProto = Object.getPrototypeOf ? function(obj) { return Object.getPrototypeOf(obj); } : function(obj) { return obj.__proto__; };\nvar leafPrototypes;\n// create a fake namespace object\n// mode & 1: value is a module id, require it\n// mode & 2: merge all properties of value into the ns\n// mode & 4: return value when already ns object\n// mode & 16: return value when it's Promise-like\n// mode & 8|1: behave like require\n__webpack_require__.t = function(value, mode) {\n\tif(mode & 1) value = this(value);\n\tif(mode & 8) return value;\n\tif(typeof value === 'object' && value) {\n\t\tif((mode & 4) && value.__esModule) return value;\n\t\tif((mode & 16) && typeof value.then === 'function') return value;\n\t}\n\tvar ns = Object.create(null);\n\t__webpack_require__.r(ns);\n\tvar def = {};\n\tleafPrototypes = leafPrototypes || [null, getProto({}), getProto([]), getProto(getProto)];\n\tfor(var current = mode & 2 && value; typeof current == 'object' && !~leafPrototypes.indexOf(current); current = getProto(current)) {\n\t\tObject.getOwnPropertyNames(current).forEach(function(key) { def[key] = function() { return value[key]; }; });\n\t}\n\tdef['default'] = function() { return value; };\n\t__webpack_require__.d(ns, def);\n\treturn ns;\n};","// define getter functions for harmony exports\n__webpack_require__.d = function(exports, definition) {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.f = {};\n// This file contains only the entry chunk.\n// The chunk loading function for additional chunks\n__webpack_require__.e = function(chunkId) {\n\treturn Promise.all(Object.keys(__webpack_require__.f).reduce(function(promises, key) {\n\t\t__webpack_require__.f[key](chunkId, promises);\n\t\treturn promises;\n\t}, []));\n};","// This function allow to reference async chunks\n__webpack_require__.u = function(chunkId) {\n\t// return url for filenames based on template\n\treturn \"js/\" + chunkId + \".\" + {\"345\":\"3c370ed3\",\"506\":\"6fcb5800\",\"730\":\"2e67d9ad\"}[chunkId] + \".js\";\n};","// This function allow to reference async chunks\n__webpack_require__.miniCssF = function(chunkId) {\n\t// return url for filenames based on template\n\treturn \"css/\" + chunkId + \".\" + {\"345\":\"c892dec7\",\"506\":\"9d5660a1\",\"730\":\"355dac2f\"}[chunkId] + \".css\";\n};","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();","__webpack_require__.o = function(obj, prop) { return Object.prototype.hasOwnProperty.call(obj, prop); }","var inProgress = {};\nvar dataWebpackPrefix = \"dapp-robonomics.network:\";\n// loadScript function to load a script via script tag\n__webpack_require__.l = function(url, done, key, chunkId) {\n\tif(inProgress[url]) { inProgress[url].push(done); return; }\n\tvar script, needAttach;\n\tif(key !== undefined) {\n\t\tvar scripts = document.getElementsByTagName(\"script\");\n\t\tfor(var i = 0; i < scripts.length; i++) {\n\t\t\tvar s = scripts[i];\n\t\t\tif(s.getAttribute(\"src\") == url || s.getAttribute(\"data-webpack\") == dataWebpackPrefix + key) { script = s; break; }\n\t\t}\n\t}\n\tif(!script) {\n\t\tneedAttach = true;\n\t\tscript = document.createElement('script');\n\n\t\tscript.charset = 'utf-8';\n\t\tscript.timeout = 120;\n\t\tif (__webpack_require__.nc) {\n\t\t\tscript.setAttribute(\"nonce\", __webpack_require__.nc);\n\t\t}\n\t\tscript.setAttribute(\"data-webpack\", dataWebpackPrefix + key);\n\n\t\tscript.src = url;\n\t}\n\tinProgress[url] = [done];\n\tvar onScriptComplete = function(prev, event) {\n\t\t// avoid mem leaks in IE.\n\t\tscript.onerror = script.onload = null;\n\t\tclearTimeout(timeout);\n\t\tvar doneFns = inProgress[url];\n\t\tdelete inProgress[url];\n\t\tscript.parentNode && script.parentNode.removeChild(script);\n\t\tdoneFns && doneFns.forEach(function(fn) { return fn(event); });\n\t\tif(prev) return prev(event);\n\t}\n\tvar timeout = setTimeout(onScriptComplete.bind(null, undefined, { type: 'timeout', target: script }), 120000);\n\tscript.onerror = onScriptComplete.bind(null, script.onerror);\n\tscript.onload = onScriptComplete.bind(null, script.onload);\n\tneedAttach && document.head.appendChild(script);\n};","// define __esModule on exports\n__webpack_require__.r = function(exports) {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","__webpack_require__.nmd = function(module) {\n\tmodule.paths = [];\n\tif (!module.children) module.children = [];\n\treturn module;\n};","__webpack_require__.p = \"\";","if (typeof document === \"undefined\") return;\nvar createStylesheet = function(chunkId, fullhref, oldTag, resolve, reject) {\n\tvar linkTag = document.createElement(\"link\");\n\n\tlinkTag.rel = \"stylesheet\";\n\tlinkTag.type = \"text/css\";\n\tif (__webpack_require__.nc) {\n\t\tlinkTag.nonce = __webpack_require__.nc;\n\t}\n\tvar onLinkComplete = function(event) {\n\t\t// avoid mem leaks.\n\t\tlinkTag.onerror = linkTag.onload = null;\n\t\tif (event.type === 'load') {\n\t\t\tresolve();\n\t\t} else {\n\t\t\tvar errorType = event && event.type;\n\t\t\tvar realHref = event && event.target && event.target.href || fullhref;\n\t\t\tvar err = new Error(\"Loading CSS chunk \" + chunkId + \" failed.\\n(\" + errorType + \": \" + realHref + \")\");\n\t\t\terr.name = \"ChunkLoadError\";\n\t\t\terr.code = \"CSS_CHUNK_LOAD_FAILED\";\n\t\t\terr.type = errorType;\n\t\t\terr.request = realHref;\n\t\t\tif (linkTag.parentNode) linkTag.parentNode.removeChild(linkTag)\n\t\t\treject(err);\n\t\t}\n\t}\n\tlinkTag.onerror = linkTag.onload = onLinkComplete;\n\tlinkTag.href = fullhref;\n\n\n\tif (oldTag) {\n\t\toldTag.parentNode.insertBefore(linkTag, oldTag.nextSibling);\n\t} else {\n\t\tdocument.head.appendChild(linkTag);\n\t}\n\treturn linkTag;\n};\nvar findStylesheet = function(href, fullhref) {\n\tvar existingLinkTags = document.getElementsByTagName(\"link\");\n\tfor(var i = 0; i < existingLinkTags.length; i++) {\n\t\tvar tag = existingLinkTags[i];\n\t\tvar dataHref = tag.getAttribute(\"data-href\") || tag.getAttribute(\"href\");\n\t\tif(tag.rel === \"stylesheet\" && (dataHref === href || dataHref === fullhref)) return tag;\n\t}\n\tvar existingStyleTags = document.getElementsByTagName(\"style\");\n\tfor(var i = 0; i < existingStyleTags.length; i++) {\n\t\tvar tag = existingStyleTags[i];\n\t\tvar dataHref = tag.getAttribute(\"data-href\");\n\t\tif(dataHref === href || dataHref === fullhref) return tag;\n\t}\n};\nvar loadStylesheet = function(chunkId) {\n\treturn new Promise(function(resolve, reject) {\n\t\tvar href = __webpack_require__.miniCssF(chunkId);\n\t\tvar fullhref = __webpack_require__.p + href;\n\t\tif(findStylesheet(href, fullhref)) return resolve();\n\t\tcreateStylesheet(chunkId, fullhref, null, resolve, reject);\n\t});\n}\n// object to store loaded CSS chunks\nvar installedCssChunks = {\n\t524: 0\n};\n\n__webpack_require__.f.miniCss = function(chunkId, promises) {\n\tvar cssChunks = {\"345\":1,\"506\":1,\"730\":1};\n\tif(installedCssChunks[chunkId]) promises.push(installedCssChunks[chunkId]);\n\telse if(installedCssChunks[chunkId] !== 0 && cssChunks[chunkId]) {\n\t\tpromises.push(installedCssChunks[chunkId] = loadStylesheet(chunkId).then(function() {\n\t\t\tinstalledCssChunks[chunkId] = 0;\n\t\t}, function(e) {\n\t\t\tdelete installedCssChunks[chunkId];\n\t\t\tthrow e;\n\t\t}));\n\t}\n};\n\n// no hmr\n\n// no prefetching\n\n// no preloaded","// no baseURI\n\n// object to store loaded and loading chunks\n// undefined = chunk not loaded, null = chunk preloaded/prefetched\n// [resolve, reject, Promise] = chunk loading, 0 = chunk loaded\nvar installedChunks = {\n\t524: 0\n};\n\n__webpack_require__.f.j = function(chunkId, promises) {\n\t\t// JSONP chunk loading for javascript\n\t\tvar installedChunkData = __webpack_require__.o(installedChunks, chunkId) ? installedChunks[chunkId] : undefined;\n\t\tif(installedChunkData !== 0) { // 0 means \"already installed\".\n\n\t\t\t// a Promise means \"currently loading\".\n\t\t\tif(installedChunkData) {\n\t\t\t\tpromises.push(installedChunkData[2]);\n\t\t\t} else {\n\t\t\t\tif(true) { // all chunks have JS\n\t\t\t\t\t// setup Promise in chunk cache\n\t\t\t\t\tvar promise = new Promise(function(resolve, reject) { installedChunkData = installedChunks[chunkId] = [resolve, reject]; });\n\t\t\t\t\tpromises.push(installedChunkData[2] = promise);\n\n\t\t\t\t\t// start chunk loading\n\t\t\t\t\tvar url = __webpack_require__.p + __webpack_require__.u(chunkId);\n\t\t\t\t\t// create error before stack unwound to get useful stacktrace later\n\t\t\t\t\tvar error = new Error();\n\t\t\t\t\tvar loadingEnded = function(event) {\n\t\t\t\t\t\tif(__webpack_require__.o(installedChunks, chunkId)) {\n\t\t\t\t\t\t\tinstalledChunkData = installedChunks[chunkId];\n\t\t\t\t\t\t\tif(installedChunkData !== 0) installedChunks[chunkId] = undefined;\n\t\t\t\t\t\t\tif(installedChunkData) {\n\t\t\t\t\t\t\t\tvar errorType = event && (event.type === 'load' ? 'missing' : event.type);\n\t\t\t\t\t\t\t\tvar realSrc = event && event.target && event.target.src;\n\t\t\t\t\t\t\t\terror.message = 'Loading chunk ' + chunkId + ' failed.\\n(' + errorType + ': ' + realSrc + ')';\n\t\t\t\t\t\t\t\terror.name = 'ChunkLoadError';\n\t\t\t\t\t\t\t\terror.type = errorType;\n\t\t\t\t\t\t\t\terror.request = realSrc;\n\t\t\t\t\t\t\t\tinstalledChunkData[1](error);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t};\n\t\t\t\t\t__webpack_require__.l(url, loadingEnded, \"chunk-\" + chunkId, chunkId);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n};\n\n// no prefetching\n\n// no preloaded\n\n// no HMR\n\n// no HMR manifest\n\n__webpack_require__.O.j = function(chunkId) { return installedChunks[chunkId] === 0; };\n\n// install a JSONP callback for chunk loading\nvar webpackJsonpCallback = function(parentChunkLoadingFunction, data) {\n\tvar chunkIds = data[0];\n\tvar moreModules = data[1];\n\tvar runtime = data[2];\n\t// add \"moreModules\" to the modules object,\n\t// then flag all \"chunkIds\" as loaded and fire callback\n\tvar moduleId, chunkId, i = 0;\n\tif(chunkIds.some(function(id) { return installedChunks[id] !== 0; })) {\n\t\tfor(moduleId in moreModules) {\n\t\t\tif(__webpack_require__.o(moreModules, moduleId)) {\n\t\t\t\t__webpack_require__.m[moduleId] = moreModules[moduleId];\n\t\t\t}\n\t\t}\n\t\tif(runtime) var result = runtime(__webpack_require__);\n\t}\n\tif(parentChunkLoadingFunction) parentChunkLoadingFunction(data);\n\tfor(;i < chunkIds.length; i++) {\n\t\tchunkId = chunkIds[i];\n\t\tif(__webpack_require__.o(installedChunks, chunkId) && installedChunks[chunkId]) {\n\t\t\tinstalledChunks[chunkId][0]();\n\t\t}\n\t\tinstalledChunks[chunkId] = 0;\n\t}\n\treturn __webpack_require__.O(result);\n}\n\nvar chunkLoadingGlobal = self[\"webpackChunkdapp_robonomics_network\"] = self[\"webpackChunkdapp_robonomics_network\"] || [];\nchunkLoadingGlobal.forEach(webpackJsonpCallback.bind(null, 0));\nchunkLoadingGlobal.push = webpackJsonpCallback.bind(null, chunkLoadingGlobal.push.bind(chunkLoadingGlobal));","// startup\n// Load entry module and return exports\n// This entry module depends on other loaded chunks and execution need to be delayed\nvar __webpack_exports__ = __webpack_require__.O(undefined, [504], function() { return __webpack_require__(437); })\n__webpack_exports__ = __webpack_require__.O(__webpack_exports__);\n"],"names":["_createBlock","_component_main_layout","pagetitle","$setup","title","default","_withCtx","_createVNode","_component_router_view","_","class","$data","renderComponent","_component_robo_layout_header","key","logoIcon","$props","nav","_component_robo_section","_createElementVNode","_hoisted_1","_component_router_link","to","_ctx","$store","state","robonomicsUIvue","rws","links","activate","exact","_cache","_createTextVNode","setupnew","setup","list","length","_createElementBlock","_Fragment","_createCommentVNode","devices","toDecimal","v","Decimal","toString","round","place","todp","fromUnit","decimals","dp","div","pow","showVersion","console","log","process","VUE_APP_GIT_BRANCH","VUE_APP_GIT_TAG","VUE_APP_GIT_SHA","toExpNeg","toExpPos","props","type","String","inject","data","computed","robonomics","toRaw","this","RobonomicsProvider","instance","value","watch","signer","signRaw","polkadot","address","handlerAccount","handler","extensionObj","immediate","newValue","oldValue","$route","async","$nextTick","methods","isReady","unsubscribeBalance","accounts","account","find","item","name","accountManager","setSender","extension","getBalance","r","transferable","free","sub","frozen","commit","api","registry","chainDecimals","e","error","__exports__","store","useStore","network","connection","navigation","link","repoversion","ref","onMounted","response","fetch","json","__props","subscription","useSubscription","active","owner","validUntil","components","MainLayout","router","useRouter","route","useRoute","resolve","path","meta","resulttitle","document","querySelector","setAttribute","render","IpfsApiClient","constructor","endpoint","authHeader","_create","client","create","_options","options","url","headers","authorization","isAuth","auth","signature","authHeaderRaw","Buffer","from","authClear","ls","cid","files","file","push","cat","decoder","TextDecoder","content","chunk","decode","stream","add","install","app","params","provide","gateway","naclOpen","sealed","nonce","senderBoxPublic","receiverBoxSecret","nacl","open","naclSeal","message","senderBoxSecret","receiverBoxPublic","randomAsU8a","convertSecretKeyToCurve25519","secretKey","ed2curve","convertPublicKeyToCurve25519","publicKey","decryptMessage","encryptedMessageWithNonce","senderPublicKey","messageU8a","u8aToU8a","slice","encryptMessage","recipientPublicKey","nonceIn","u8aConcat","createPair","mnemonic","seed","mnemonicToMiniSecret","pair","ed25519PairFromSeed","encryptor","encodeAddress","ss58Format","AccountManagerDapp","AccountManager","keyring","config","loadAll","setReady","super","beforeSetSender","getPair","loadInjected","afterSetSender","isInjected","setSigner","signMsg","u8aToHex","u8aWrapBytes","addUri","suri","addFromUri","addUriPassword","password","undefined","addJsonPassword","createFromJson","addPair","pairKey","addFromPair","toJson","decoded","decodePair","base64Decode","encoded","encoding","shallowRef","urlParams","URLSearchParams","window","location","search","get","localStorage","getItem","configApp","default_rpc_endpoint","setItem","Robonomics","createInstance","setAccountManager","CodeError","PROVIDER","NETWORK","ACCOUNT","Web3Error","Error","code","Connector","getProvider","getAccount","getNetworkId","Extension","provider","update","networkId","emit","handleChainChanged","Number","on","handleAccountsChanged","request","method","Provider","networks","connector","reactive","block","setConnector","ethers","getSigner","includes","setProvider","warn","getBlock","blockNumber","$web3","web3","_toDisplayString","balance","_renderList","tokens","token","_component_nft_token","tokenId","onActivate","loadTokens","src","image","style","activated","_hoisted_2","_component_btn_send","onClick","wait","_component_free_minimum","args","send","disabled","status","STATUS","PRE_PROCESS","WAIT_TX","_renderSlot","$slots","ERROR","READY","_hoisted_3","NEW","emits","tx","last","receipt","hash","errorCatch","received","requestFreeMinimum","avaible","_hoisted_4","_hoisted_5","_hoisted_6","axios","baseURL","nft_oracle_endpoint","checkAvailible","accountEthereum","result","post","nft","getFreeMinimum","accauntParachain","msg","JSON","stringify","for","signMessage","check","timerId","setInterval","clearInterval","BtnSend","FreeMinimum","nftContract","nft_abi","connect","interface","parseError","NftToken","balanceOf","ids","index","tokenOfOwnerByIndex","uri","tokenURI","ipfsHash","split","pop","res","activatedOf","providers","event","detail","ethereum","activeProviderRdns","findIndex","info","rdns","activeAccount","addEventListener","dispatchEvent","CustomEvent","chains","workingchain","mipdstore","createStore","getProviders","subscribe","i","isConnected","_state","contract","providerethers","curentslide","setslide","s","getEthersProviderObj","getNFT","blockupdate","perms","eth_accounts","some","parentCapability","chain","parseInt","then","parseFloat","catch","activateToken","current","_component_robo_layout_section","width","_component_robo_grid","minColumnWidth","gap","card","rwsactive","_component_robo_rws_setup_active","show","_component_robo_text","align","offset","size","weight","columns","_component_robo_grid_item","borderbottom","price","_component_robo_details","summary","_component_robo_icon","icon","_component_robo_link","href","freeAuctions","_component_robo_button","linkActivate","unsubscribeBlock","getInstance","useRobonomics","getAuctionQueue","events","onBlock","minimalBid","getMinimalBid","bnToBn","onUnmounted","priceFormat","_component_robo_select","values","commands","map","modelValue","parameter","$event","loading","proccess","highlight","robot","listOfCommands","unsubscribe","txs","balances","transfer","launch","utility","batch","resultTx","signAndSend","txIndex","created","_component_robo_template_rws_buy","activationtime","available","chainInfoUploaded","chainInfoStatus","rwsExpiration","expiredate","onOnActivate","useBalance","toNumber","unsubscribeAccount","useAccount","useDevices","transaction","useSend","setStatus","lt","hasSubscription","isActive","call","bid","getFirtsFreeAuction","setDevices","createTx","loadLedger","stopWatchEffect","watchEffect","centered","_component_robo_tabs","_component_robo_tab","label","_component_robo_rws_setup","onUserDelete","removeUser","onUserAdd","addUser","onSaveHapass","saveHapass","onControllerEdit","editController","_component_robo_rws_setups_list","setupOwner","setUser","user","skipDuplicateCheck","filter","addr","loadDevices","passToSave","userAddress","userType","acctype","encodedDevices","passwordForAdmin","decodeAddress","controller","passwordForRecovery","datalog","write","ha","admin","accountOld","onRequestSubscription","ledger","getLedger","getValidUntil","onSetupGenerate","getDevices","stop","nextTick","script","_component_robo_input","_component_account_unlock","onUnlock","isUnlock","_component_d_twin","updateKey","onTwinId","twinId","onFind","finedFiles","finedFile","_component_ipfs_file","hex","_component_encrypt_message","onEncrypt","messageHash","_component_ipfs_upload","onUpload","ipfsFile","_component_crust_store","onStore","isStored","_component_d_twin_save","onSave","_hoisted_7","unlock","reported_replica_count","$filters","canStored","storeFile","Crust","init","cb","intervalId","WsProvider","ApiPromise","typesBundle","typesBundleForPolkadot","cryptoWaitReady","query","system","feeFrozen","getStorePrice","file_size","fileBaseFee","market","fileByteFee","Math","getInfo","ipfs_cid","filesV2","addRenewalPoolBalance","amount","addPrepaid","tips","placeStorageOrder","Promise","reject","isInBlock","forEach","section","phase","dispatchError","isModule","mod","asModule","docs","findMetaError","join","rpc","asInBlock","header","number","asApplyExtrinsic","toHuman","crust","_component_select_twin","onChange","keySelect","_component_create_twin","onCreate","SelectTwin","CreateTwin","keyRecords","twin","useTwin","save","setSource","useTwinAction","encrypt","encryptedMessage","dataHex","target","hexToCid","omit","obj","omitted","rest","o","replicas","Object","keys","decrypt","decryptedMessage","u8aToString","getContentFile","startsWith","ipfsGateway","upload","ipfs","stringToU8a","AccountUnlock","EncryptMessage","DTwin","DTwinSave","IpfsUpload","IpfsFile","CrustStore","isSaved","_component_Libp2p","isKey","onConnected","handlerConnected","onError","handlerError","_component_Launch","_component_robo_smarthome_dashboard","updateTime","useIpfs","clearJson","string","replaceAll","parseJson","parse","getLastIndex","id","getLastId","getLastDatalog","lastIndex","readByIndex","timestamp","getConfigCid","twin_id","getTwin","configHex","utils","watchIpfsGateway","activeGateway","catFile","decryptData","encryptedMsg","controllerPublicKey","hexToU8a","readFileDecrypt","loadSetup","setupRaw","useSetup","notify","text","timeout","dispatch","setStatusLaunch","command","tx_status","useConfig","getConfig","lsKey","time","Date","now","cache","parsedData","load","useData","unsubscribeDatalog","watchDatalog","results","success","run","entity_id","commandCid","cmdString","cmdCrypto","Boolean","dataTest","configTest","createHa","getRequest","pipe","source","uint8ArrayToString","subarray","sendResponse","uint8ArrayFromString","sink","finally","close","handle","protocol","runOnTransientConnection","registrar","newStream","createNode","node","createLibp2p","transports","webSockets","filters","circuitRelayTransport","streamMuxers","mplex","connectionEncryption","noise","services","identify","connectionGater","denyDialMultiaddr","connectionManager","minConnections","defaultRelay","peer_id","multiaddr","connectMultiaddress","peer_multiaddress","localMultiaddrs","circuit","peer_multiaddr","localMultiaddr","protos","protoNames","connections","start","updateConnectionsList","getConnections","remoteAddr","peerId","setTimeout","reconnect","listenerMultiaddr","dial","disconnect","connected","protocols","getProtocols","unhandle","dataRaw","sender","isOnce","libp2p_multiaddress","once","Libp2p","Launch","routes","component","Home","RwsActivate","RwsSetup","RwsSetupNew","Telemetry","Altruist","Riscv","Hikikomori","SeasonPass","SeasonPass2","EnergyMonitor","Humanoid","SaveSetup","PathNotFound","createRouter","history","createWebHashHistory","globalProperties","symbol","createApp","App","use","robonomicsUI","mount","isProccess","isSuccess","getRegistry","TypeRegistry","types","PalletRobonomicsRwsSubscription","_enum","Lifetime","tps","Daily","days","PalletRobonomicsRwsSubscriptionLedger","freeWeight","issueTime","lastUpdate","kind","register","DAYS_TO_MS","isEmpty","isLifetime","issue_time","isDaily","initialOwner","getReferenceCallWeight","consts","referenceCallWeight","toJSON","createType","getFreeWeightCalc","utps","duration_ms","delta","floor","countMonth","validateAddress","getCallWeight","hasPaymentInfo","paymentInfo","checkWeight","freeWeightCalc","callWeight","accountNextIndex","twins","isLoading","_component_robo_status","_component_robo_loader","useTwins","setCache","total","URL","host","getCache","getTotal","twinsByAccount","startIndex","getOwner","loadTwins","tokenToString","replace","tokenToCid","force","toRef","topic","cidToHex","stringToHex","xrt","tokenVesting","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","exports","module","loaded","__webpack_modules__","m","amdO","deferred","O","chunkIds","fn","priority","notFulfilled","Infinity","fulfilled","j","every","splice","n","getter","__esModule","d","a","leafPrototypes","getProto","getPrototypeOf","__proto__","t","mode","ns","def","indexOf","getOwnPropertyNames","definition","defineProperty","enumerable","f","chunkId","all","reduce","promises","u","miniCssF","g","globalThis","Function","prop","prototype","hasOwnProperty","inProgress","dataWebpackPrefix","l","done","needAttach","scripts","getElementsByTagName","getAttribute","createElement","charset","nc","onScriptComplete","prev","onerror","onload","clearTimeout","doneFns","parentNode","removeChild","bind","head","appendChild","Symbol","toStringTag","nmd","paths","children","p","createStylesheet","fullhref","oldTag","linkTag","rel","onLinkComplete","errorType","realHref","err","insertBefore","nextSibling","findStylesheet","existingLinkTags","tag","dataHref","existingStyleTags","loadStylesheet","installedCssChunks","miniCss","cssChunks","installedChunks","installedChunkData","promise","loadingEnded","realSrc","webpackJsonpCallback","parentChunkLoadingFunction","moreModules","runtime","chunkLoadingGlobal","self","__webpack_exports__"],"sourceRoot":""}